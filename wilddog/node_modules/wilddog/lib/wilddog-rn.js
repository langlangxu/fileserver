!function(t,e){t.eio=e()}(global,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}global.navigator.userAgent="react-native";var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";t.exports=r(1)},function(t,e,r){"use strict";t.exports=r(2),t.exports.parser=r(9)},function(t,e,r){(function(e){"use strict";function n(t,r){if(!(this instanceof n))return new n(t,r);r=r||{},t&&"object"===("undefined"==typeof t?"undefined":s(t))&&(r=t,t=null),t?(t=h(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=h(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate?r.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized?!0:r.rejectUnauthorized;var o="object"===("undefined"==typeof e?"undefined":s(e))&&e;o.global===o&&r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),this.open()}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=r(3),a=r(19),c=r(23)("engine.io-client:socket"),p=r(28),u=r(9),h=r(29),f=r(30),l=r(20);t.exports=n,n.priorWebsocketSuccess=!1,a(n.prototype),n.protocol=u.protocol,n.Socket=n,n.Transport=r(8),n.transports=r(3),n.parser=r(9),n.prototype.createTransport=function(t){c('creating transport "%s"',t);var e=o(this.query);e.EIO=u.protocol,e.transport=t,this.id&&(e.sid=this.id);var r=new i[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return r},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){c("setting transport %s",t.name);var e=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(c('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!h)if("pong"===e.type&&"probe"===e.data){if(c('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"===u.name,c('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!==f.readyState&&(c("changing transport and sending upgrade packet"),p(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{c('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=u.name,f.emit("upgradeError",r)}}))}function r(){h||(h=!0,p(),u.close(),u=null)}function o(e){var n=new Error("probe error: "+e);n.transport=u.name,r(),c('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",n)}function s(){o("transport closed")}function i(){o("socket closed")}function a(t){u&&t.name!==u.name&&(c('"%s" works - aborting "%s"',t.name,u.name),r())}function p(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",s),f.removeListener("close",i),f.removeListener("upgrading",a)}c('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),h=!1,f=this;n.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",s),this.once("close",i),this.once("upgrading",a),u.open()},n.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState)switch(c('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(f(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else c('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),c("socket closing - telling transport to close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){c("socket error %j",t),n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;n>r;r++)~p(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,function(){return this}())},function(t,e,r){(function(t){"use strict";function n(e){var r,n=!1,a=!1,c=!1!==e.jsonp;if(t.location){var p="https:"===location.protocol,u=location.port;u||(u=p?443:80),n=e.hostname!==location.hostname||u!==e.port,a=e.secure!==p}if(e.xdomain=n,e.xscheme=a,r=new o(e),"open"in r&&!e.forceJSONP)return new s(e);if(!c)throw new Error("JSONP disabled");return new i(e)}var o=r(4),s=r(6),i=r(26),a=r(27);e.polling=n,e.websocket=a}).call(e,function(){return this}())},function(t,e,r){"use strict";var n=r(5);t.exports=function(t){var e=t.xdomain,r=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!r&&o)return new XDomainRequest}catch(s){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){t.exports=!1}},function(t,e,r){(function(e){"use strict";function n(){}function o(t){if(c.call(this,t),e.location){var r="https:"===location.protocol,n=location.port;n||(n=r?443:80),this.xd=t.hostname!==e.location.hostname||n!==t.port,this.xs=t.secure!==r}else this.extraHeaders=t.extraHeaders}function s(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function i(){for(var t in s.requests)s.requests.hasOwnProperty(t)&&s.requests[t].abort()}var a=r(4),c=r(7),p=r(19),u=r(21),h=r(23)("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=s,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.extraHeaders=this.extraHeaders,new s(t)},o.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},p(s.prototype),s.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new a(t),n=this;try{h("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.extraHeaders[o])}}catch(i){}if(this.supportsBinary&&(r.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in r&&(r.withCredentials=!0),this.hasXDR()?(r.onload=function(){n.onLoad()},r.onerror=function(){n.onError(r.responseText)}):r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?n.onLoad():setTimeout(function(){n.onError(r.status)},0))},h("xhr data %s",this.data),r.send(this.data)}catch(i){return void setTimeout(function(){n.onError(i)},0)}e.document&&(this.index=s.requestsCount++,s.requests[this.index]=this)},s.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},s.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},s.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},s.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(r){}e.document&&delete s.requests[this.index],this.xhr=null}},s.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===e)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),o=[],s=0,i=n.length;i>s;s++)o.push(n[s]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(r){this.onError(r)}null!=t&&this.onData(t)},s.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},s.prototype.abort=function(){this.cleanup()},e.document&&(s.requestsCount=0,s.requests={},e.attachEvent?e.attachEvent("onunload",i):e.addEventListener&&e.addEventListener("beforeunload",i,!1))}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t){var e=t&&t.forceBase64;(!u||e)&&(this.supportsBinary=!1),o.call(this,t)}var o=r(8),s=r(20),i=r(9),a=r(21),c=r(22),p=r(23)("engine.io-client:polling");t.exports=n;var u=function(){var t=r(4),e=new t({xdomain:!1});return null!=e.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){p("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(p("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){p("pre-pause polling complete"),--n||e()})),this.writable||(p("we are currently writing - waiting to pause"),n++,this.once("drain",function(){p("pre-pause writing complete"),--n||e()}))}else e()},n.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this;p("polling got data %s",t);var r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};i.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function t(){p("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(p("transport open - closing"),t()):(p("transport not open - deferring close"),this.once("open",t))},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=s.encode(t),this.port&&("https"===e&&443!==this.port||"http"===e&&80!==this.port)&&(r=":"+this.port),t.length&&(t="?"+t);var n=-1!==this.hostname.indexOf(":");return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){"use strict";function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders}var o=r(9),s=r(19);t.exports=n,s(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(t){function n(t,r){var n="b"+e.packets[t.type]+t.data.data;return r(n)}function o(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=t.data,s=new Uint8Array(o),i=new Uint8Array(1+o.byteLength);i[0]=m[t.type];for(var a=0;a<s.length;a++)i[a+1]=s[a];return n(i.buffer)}function s(t,r,n){if(!r)return e.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,r,!0,n)},o.readAsArrayBuffer(t.data)}function i(t,r,n){if(!r)return e.encodeBase64Packet(t,n);if(g)return s(t,r,n);var o=new Uint8Array(1);o[0]=m[t.type];var i=new w([o.buffer,t.data]);return n(i)}function a(t,e,r){for(var n=new Array(t.length),o=f(t.length,r),s=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},i=0;i<t.length;i++)s(i,t[i],o)}var c=r(10),p=r(11),u=r(13),h=r(14),f=r(15),l=r(16),d=navigator.userAgent.match(/Android/i),y=/PhantomJS/i.test(navigator.userAgent),g=d||y;e.protocol=3;var m=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=c(m),b={type:"error",data:"parser error"},w=r(18);e.encodePacket=function(e,r,s,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof s&&(a=s,s=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,r,a);if(w&&c instanceof t.Blob)return i(e,r,a);if(c&&c.base64)return n(e,a);var p=m[e.type];return void 0!==e.data&&(p+=s?l.encode(String(e.data)):String(e.data)),a(""+p)},e.encodeBase64Packet=function(r,n){var o="b"+e.packets[r.type];if(w&&r.data instanceof t.Blob){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];n(o+t)},s.readAsDataURL(r.data)}var i;try{i=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(a){for(var c=new Uint8Array(r.data),p=new Array(c.length),u=0;u<c.length;u++)p[u]=c[u];i=String.fromCharCode.apply(null,p)}return o+=t.btoa(i),n(o)},e.decodePacket=function(t,r,n){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(n)try{t=l.decode(t)}catch(o){return b}var s=t.charAt(0);return Number(s)==s&&v[s]?t.length>1?{type:v[s],data:t.substring(1)}:{type:v[s]}:b}var i=new Uint8Array(t),s=i[0],a=u(t,1);return w&&"blob"===r&&(a=new w([a])),{type:v[s],data:a}},e.decodeBase64Packet=function(e,r){var n=v[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=h.decode(e.substr(1));return"blob"===r&&w&&(o=new w([o])),{type:n,data:o}},e.encodePayload=function(t,r,n){function o(t){return t.length+":"+t}function s(t,n){e.encodePacket(t,i?r:!1,!0,function(t){n(null,o(t))})}"function"==typeof r&&(n=r,r=null);var i=p(t);return r&&i?w&&!g?e.encodePayloadAsBlob(t,n):e.encodePayloadAsArrayBuffer(t,n):t.length?void a(t,s,function(t,e){return n(e.join(""))}):n("0:")},e.decodePayload=function(t,r,n){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,n);"function"==typeof r&&(n=r,r=null);var o;if(""==t)return n(b,0,1);for(var s,i,a="",c=0,p=t.length;p>c;c++){var u=t.charAt(c);if(":"!=u)a+=u;else{if(""==a||a!=(s=Number(a)))return n(b,0,1);if(i=t.substr(c+1,s),a!=i.length)return n(b,0,1);if(i.length){if(o=e.decodePacket(i,r,!0),b.type==o.type&&b.data==o.data)return n(b,0,1);var h=n(o,c+s,p);if(!1===h)return}c+=s,a=""}}return""!=a?n(b,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}return t.length?void a(t,n,function(t,e){var n=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),s=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);r=n.buffer}e?o[s++]=0:o[s++]=1;for(var a=r.byteLength.toString(),i=0;i<a.length;i++)o[s++]=parseInt(a[i]);o[s++]=255;for(var n=new Uint8Array(r),i=0;i<n.length;i++)o[s++]=n[i]}),r(o.buffer)}):r(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,r){function n(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,e[0]=0}for(var s=t instanceof ArrayBuffer?t.byteLength:t.size,i=s.toString(),a=new Uint8Array(i.length+1),o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,w){var c=new w([e.buffer,a.buffer,t]);r(null,c)}})}a(t,n,function(t,e){return r(new w(e))})},e.decodePayloadAsBinary=function(t,r,n){"function"==typeof r&&(n=r,r=null);for(var o=t,s=[],i=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],p="",h=1;255!=a[h];h++){if(p.length>310){i=!0;break}p+=a[h]}if(i)return n(b,0,1);o=u(o,2+p.length),p=parseInt(p);var f=u(o,0,p);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(l){var d=new Uint8Array(f);f="";for(var h=0;h<d.length;h++)f+=String.fromCharCode(d[h])}s.push(f),o=u(o,p)}var y=s.length;s.forEach(function(t,o){n(e.decodePacket(t,r,!0),o,y)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},function(t,e,r){(function(e){function n(t){function r(t){if(!t)return!1;if(e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer||e.Blob&&t instanceof Blob||e.File&&t instanceof File)return!0;if(o(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return!0}return!1}return r(t)}var o=r(12);t.exports=n}).call(e,function(){return this}())},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){t.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(0>e&&(e+=n),0>r&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),s=new Uint8Array(r-e),i=e,a=0;r>i;i++,a++)s[a]=o[i];return s.buffer}},function(t,e){!function(t){"use strict";e.encode=function(e){var r,n=new Uint8Array(e),o=n.length,s="";for(r=0;o>r;r+=3)s+=t[n[r]>>2],s+=t[(3&n[r])<<4|n[r+1]>>4],s+=t[(15&n[r+1])<<2|n[r+2]>>6],s+=t[63&n[r+2]];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(e){var r,n,o,s,i,a=.75*e.length,c=e.length,p=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(r=0;c>r;r+=4)n=t.indexOf(e[r]),o=t.indexOf(e[r+1]),s=t.indexOf(e[r+2]),i=t.indexOf(e[r+3]),h[p++]=n<<2|o>>4,h[p++]=(15&o)<<4|s>>2,h[p++]=(3&s)<<6|63&i;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(t,e){function r(t,e,r){function o(t,n){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(s=!0,e(t),e=r):0!==o.count||s||e(null,n)}var s=!1;return r=r||n,o.count=t,0===t?e():o}function n(){}t.exports=r},function(t,e,r){var n;(function(t,o){!function(s){function i(t){for(var e,r,n=[],o=0,s=t.length;s>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&s>o?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function a(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function c(t){if(t>=55296&&57343>=t)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function p(t,e){return w(t>>e&63|128)}function u(t){if(0==(4294967168&t))return w(t);var e="";return 0==(4294965248&t)?e=w(t>>6&31|192):0==(4294901760&t)?(c(t),e=w(t>>12&15|224),e+=p(t,6)):0==(4292870144&t)&&(e=w(t>>18&7|240),e+=p(t,12),e+=p(t,6)),e+=w(63&t|128)}function h(t){for(var e,r=i(t),n=r.length,o=-1,s="";++o<n;)e=r[o],s+=u(e);return s}function f(){if(b>=v)throw Error("Invalid byte index");var t=255&m[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(){var t,e,r,n,o;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(t=255&m[b],b++,0==(128&t))return t;if(192==(224&t)){var e=f();if(o=(31&t)<<6|e,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=f(),r=f(),o=(15&t)<<12|e<<6|r,o>=2048)return c(o),o;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=f(),r=f(),n=f(),o=(15&t)<<18|e<<12|r<<6|n,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function d(t){m=i(t),v=m.length,b=0;for(var e,r=[];(e=l())!==!1;)r.push(e);return a(r)}var y="object"==typeof e&&e,g=("object"==typeof t&&t&&t.exports==y&&t,"object"==typeof o&&o);(g.global===g||g.window===g)&&(s=g);var m,v,b,w=String.fromCharCode,x={version:"2.0.0",encode:h,decode:d};n=function(){return x}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(17)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new s;r(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return r(t),new Blob(t,e||{})}var s=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,i=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=i&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=s&&s.prototype.append&&s.prototype.getBlob;t.exports=function(){return i?a?e.Blob:o:c?n:void 0}()}).call(e,function(){return this}())},function(t,e){function r(t){return t?n(t):void 0}function n(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;o>n;n++){var s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){"use strict";function r(t){var e="";do e=i[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function n(t){var e=0;for(u=0;u<t.length;u++)e=e*a+c[t.charAt(u)];return e}function o(){var t=r(+new Date);return t!==s?(p=0,s=t):t+"."+r(p++)}for(var s,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},p=0,u=0;a>u;u++)c[i[u]]=u;o.encode=r,o.decode=n,t.exports=o},function(t,e,r){function n(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var t=arguments,r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!r)return t;var n="color: "+this.color;t=[t[0],n,"color: inherit"].concat(Array.prototype.slice.call(t,1));var o=0,s=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(s=o))}),t.splice(s,0,n),t}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(r){}}function a(){var t;try{t=e.storage.debug}catch(r){}return t}function c(){try{return window.localStorage}catch(t){}}e=t.exports=r(24),e.log=s,e.formatArgs=o,e.save=i,e.load=a,e.useColors=n,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){return JSON.stringify(t)},e.enable(a())},function(t,e,r){function n(){return e.colors[u++%e.colors.length]}function o(t){function r(){}function o(){var t=o,r=+new Date,s=r-(p||r);t.diff=s,t.prev=p,t.curr=r,p=r,null==t.useColors&&(t.useColors=e.useColors()),null==t.color&&t.useColors&&(t.color=n());var i=Array.prototype.slice.call(arguments);i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(r,n){if("%%"===r)return r;a++;var o=e.formatters[n];if("function"==typeof o){var s=i[a];r=o.call(t,s),i.splice(a,1),a--;
}return r}),"function"==typeof e.formatArgs&&(i=e.formatArgs.apply(t,i));var c=o.log||e.log||console.log.bind(console);c.apply(t,i)}r.enabled=!1,o.enabled=!0;var s=e.enabled(t)?o:r;return s.namespace=t,s}function s(t){e.save(t);for(var r=(t||"").split(/[\s,]+/),n=r.length,o=0;n>o;o++)r[o]&&(t=r[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function i(){e.enable("")}function a(t){var r,n;for(r=0,n=e.skips.length;n>r;r++)if(e.skips[r].test(t))return!1;for(r=0,n=e.names.length;n>r;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o,e.coerce=c,e.disable=i,e.enable=s,e.enabled=a,e.humanize=r(25),e.names=[],e.skips=[],e.formatters={};var p,u=0},function(t,e){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*u;case"days":case"day":case"d":return r*p;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function n(t){return t>=p?Math.round(t/p)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=i?Math.round(t/i)+"s":t+"ms"}function o(t){return s(t,p,"day")||s(t,c,"hour")||s(t,a,"minute")||s(t,i,"second")||t+" ms"}function s(t,e,r){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var i=1e3,a=60*i,c=60*a,p=24*c,u=365.25*p;t.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e["long"]?o(t):n(t)}},function(t,e,r){(function(e){"use strict";function n(){}function o(t){s.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var r=this;a.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=n)},!1)}var s=r(7),i=r(21);t.exports=o;var a,c=/\n/g,p=/\\n/g;i(o,s),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),s.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';s=document.createElement(e)}catch(t){s=document.createElement("iframe"),s.name=o.iframeId,s.src="javascript:0"}s.id=o.iframeId,o.form.appendChild(s),o.iframe=s}var o=this;if(!this.form){var s,i=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=u,i.method="POST",i.setAttribute("accept-charset","utf-8"),a.name="d",i.appendChild(a),document.body.appendChild(i),this.form=i,this.area=a}this.form.action=this.uri(),n(),t=t.replace(p,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&r()}:this.iframe.onload=r}}).call(e,function(){return this}())},function(t,e,r){(function(e){"use strict";function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,o.call(this,t)}var o=r(8),s=r(9),i=r(20),a=r(21),c=r(22),p=r(23)("engine.io-client:websocket"),u=e.WebSocket||e.MozWebSocket,h=u;if(!h&&"undefined"==typeof window)throw new Error("You do not appear to be running in a browser or React Native with WebSocket support. Cannot continue loading Engine.IO!");t.exports=n,a(n,o),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.ws=u?new h(t):new h(t,e,r),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),n.prototype.write=function(t){function r(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=t.length,i=0,a=o;a>i;i++)!function(t){s.encodePacket(t,n.supportsBinary,function(s){if(!u){var i={};if(t.options&&(i.compress=t.options.compress),n.perMessageDeflate){var a="string"==typeof s?e.Buffer.byteLength(s):s.length;a<n.perMessageDeflate.threshold&&(i.compress=!1)}}try{u?n.ws.send(s):n.ws.send(s,i)}catch(c){p("websocket closed before onclose event")}--o||r()})}(t[i])},n.prototype.onClose=function(){o.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==this.port||"ws"===e&&80!==this.port)&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),t=i.encode(t),t.length&&(t="?"+t);var n=-1!==this.hostname.indexOf(":");return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===n.prototype.name)}}).call(e,function(){return this}())},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),s=t.indexOf("]");-1!=o&&-1!=s&&(t=t.substring(0,o)+t.substring(o,s).replace(/:/g,";")+t.substring(s,t.length));for(var i=r.exec(t||""),a={},c=14;c--;)a[n[c]]=i[c]||"";return-1!=o&&-1!=s&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e){(function(e){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,s=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(i,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(n,"@").replace(o,"]").replace(s,""))?new Function("return "+t)():void 0):null}}).call(e,function(){return this}())}])});
(function(ns){var CLIENT_VERSION = "0.7.1";var NODE_CLIENT=0;ns.wrapper=function(good,wd){
var h,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.Va=function(){return a.nd?a.nd:a.nd=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function q(a){return"string"==typeof a}function ea(a){return"number"==typeof a}function fa(a){return"function"==ca(a)}function ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return r.apply(null,arguments)}var ja=Date.now||function(){return+new Date};
function ka(a,b){function c(){}c.prototype=b.prototype;a.Be=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ve=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function la(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)};function t(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function v(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function ma(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function na(a){var b={};ma(a,function(a,d){b[a]=d});return b};var oa={};function pa(a){this.Jb=a;this.kc="wilddog:"}pa.prototype.set=function(a,b){null==b?this.Jb.removeItem(this.kc+a):this.Jb.setItem(this.kc+a,w(b))};pa.prototype.get=function(a){a=this.Jb.getItem(this.kc+a);return null==a?null:qa(a)};pa.prototype.remove=function(a){this.Jb.removeItem(this.kc+a)};pa.prototype.toString=function(){return this.Jb.toString()};function ra(){this.Fb={}}ra.prototype.set=function(a,b){null==b?delete this.Fb[a]:this.Fb[a]=b};ra.prototype.get=function(a){return t(this.Fb,a)?this.Fb[a]:null};ra.prototype.remove=function(a){delete this.Fb[a]};function sa(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("wilddog:sentinel","cache");b.removeItem("wilddog:sentinel");return new pa(b)}}catch(c){}return new ra}var ta=sa("localStorage"),x=sa("sessionStorage");function ua(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function va(){}
function wa(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(da(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),wa(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),xa(d,c),c.push(":"),wa(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":xa(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var ya={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},za=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function xa(a,b){b.push('"',a.replace(za,function(a){var b=ya[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),ya[a]=b);return b}),'"')};function Aa(a){var b=[];ma(a,function(a,d){da(d)?Ba(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function Ca(a){var b={};a=a.replace(/^\?/,"").split("&");Ba(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b}function qa(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):ua(a)}
function w(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];wa(new va,a,b);a=b.join("")}return a}function Da(){this.nc=y}Da.prototype.u=function(a){return this.nc.ja(a)};Da.prototype.toString=function(){return this.nc.toString()};var Ea;a:{var Fa=n.navigator;if(Fa){var Ga=Fa.userAgent;if(Ga){Ea=Ga;break a}}Ea=""};function Ha(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ha);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ka(Ha,Error);Ha.prototype.name="CustomError";var Ia=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ja=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Ka=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},La=Array.prototype.reduce?function(a,b,c,d){d&&(b=r(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Ba(a,function(c,g){e=b.call(d,
e,c,g,a)});return e},Ma=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Na(a,b){var c=Oa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Oa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Pa(a,b){var c=Ia(a,b);0<=c&&Array.prototype.splice.call(a,c,1)}
function Qa(a,b){a.sort(b||Ra)}function Ra(a,b){return a>b?1:a<b?-1:0};function A(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Sa(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Ta(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function Ua(a){var b=0,c;for(c in a)b++;return b}function Va(a){for(var b in a)return b}function Wa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Xa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ya(a,b){return null!==a&&b in a}
function Za(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function $a(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function ab(a,b){var c=$a(a,b,void 0);return c&&a[c]}function bb(a){for(var b in a)return!1;return!0}function cb(a){var b={},c;for(c in a)b[c]=a[c];return b}var db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function eb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<db.length;f++)c=db[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var fb=null,gb=null;function hb(a){var b="";ib(a,function(a){b+=String.fromCharCode(a)});return b}function ib(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=gb[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}jb();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}}
function jb(){if(!fb){fb={};gb={};for(var a=0;65>a;a++)fb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),gb[fb[a]]=a,62<=a&&(gb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};function kb(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.bb=b;this.wb=c;this.jc=e||"";this.Aa=ta.get("host:"+a)||this.host;this.Oa=JSON.parse(x.get("failHosts"))||[]}function lb(a,b){null==b?(a.Aa=a.host,"s-"===a.Aa.substr(0,2)&&ta.remove("host:"+a.host)):b!==a.Aa&&0<b.indexOf(".wilddogio.com")&&(a.Aa=b,"s-"===a.Aa.substr(0,2)&&ta.set("host:"+a.host,a.Aa))}
kb.prototype.toString=function(){var a=(this.bb?"https://":"http://")+this.host;this.jc&&(a+="<"+this.jc+">");return a};function mb(){this.g=-1};function nb(){this.g=-1;this.g=64;this.f=[];this.H=[];this.T=[];this.o=[];this.o[0]=128;for(var a=1;a<this.g;++a)this.o[a]=0;this.A=this.m=0;this.reset()}ka(nb,mb);nb.prototype.reset=function(){this.f[0]=1732584193;this.f[1]=4023233417;this.f[2]=2562383102;this.f[3]=271733878;this.f[4]=3285377520;this.A=this.m=0};
function ob(a,b,c){c||(c=0);var d=a.T;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.f[0];c=a.f[1];for(var g=a.f[2],k=a.f[3],l=a.f[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),m=1518500249):(f=c^g^k,m=1859775393):60>e?(f=c&g|k&(c|g),m=2400959708):(f=c^g^k,m=3395469782),f=(b<<
5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.f[0]=a.f[0]+b&4294967295;a.f[1]=a.f[1]+c&4294967295;a.f[2]=a.f[2]+g&4294967295;a.f[3]=a.f[3]+k&4294967295;a.f[4]=a.f[4]+l&4294967295}
nb.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.g,d=0,e=this.H,f=this.m;d<b;){if(0==f)for(;d<=c;)ob(this,a,d),d+=this.g;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.g){ob(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.g){ob(this,e);f=0;break}}this.m=f;this.A+=b}};var pb=function(){var a=1;return function(){return a++}}();function B(a,b){if(!a)throw qb(b);}function qb(a){return Error("Wilddog ("+rb+") INTERNAL ASSERT FAILED: "+a)}function sb(a){try{return NODE_CLIENT?(new Buffer(a,"base64")).toString("utf8"):"undefined"!==typeof atob?atob(a):hb(a)}catch(b){tb("base64Decode failed: ",b)}return null}
function ub(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e=e-55296,d++,B(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}a=new nb;a.update(b);b=[];d=8*a.A;56>a.m?a.update(a.o,56-a.m):a.update(a.o,a.g-(a.m-56));for(c=a.g-1;56<=c;c--)a.H[c]=d&255,d/=256;ob(a,a.H);for(c=d=0;5>c;c++)for(e=
24;0<=e;e-=8)b[d]=a.f[c]>>e&255,++d;jb();a=fb;c=[];for(d=0;d<b.length;d+=3){var f=b[d],g=(e=d+1<b.length)?b[d+1]:0,k=d+2<b.length,l=k?b[d+2]:0,m=f>>2,f=(f&3)<<4|g>>4,g=(g&15)<<2|l>>6,l=l&63;k||(l=64,e||(g=64));c.push(a[m],a[f],a[g],a[l])}return c.join("")}
function vb(a){for(var b="",c=0;c<arguments.length;c++)var d=arguments[c],e=ca(d),b="array"==e||"object"==e&&"number"==typeof d.length?b+vb.apply(null,arguments[c]):"object"===typeof arguments[c]?b+w(arguments[c]):b+arguments[c],b=b+" ";return b}var wb=null,xb=!0;function tb(a){!0===xb&&(xb=!1,null===wb&&!0===x.get("logging_enabled")&&yb(!0));if(wb){var b=vb.apply(null,arguments);wb(b)}}function zb(a){return function(){tb(a,arguments)}}
function Ab(a){if("undefined"!==typeof console){var b="WILDDOG INTERNAL ERROR: "+vb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function Bb(a){var b=vb.apply(null,arguments);throw Error("WILDDOG FATAL ERROR: "+b);}function C(a){if("undefined"!==typeof console){var b="WILDDOG WARNING: "+vb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function Cb(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(q(a)){var l=a.indexOf("//");0<=l&&(g=a.substring(0,l-1),a=a.substring(l+2));l=a.indexOf("/");-1===l&&(l=a.length);b=a.substring(0,l);e="";a=a.substring(l).split("/");for(l=0;l<a.length;l++)if(0<a[l].length){var m=a[l];try{m=decodeURIComponent(m.replace(/\+/g," "))}catch(u){}e+="/"+m}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);l=b.indexOf(":");0<=l&&(f="https"===g||"wss"===g,k=b.substring(l+1),isFinite(k)&&
(k=String(k)),k=q(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,je:d,bb:f,scheme:g,Qb:e}}function Db(a){return ea(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Eb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=Fb(a),d=Fb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}
function Gb(a){if("object"!==typeof a||null===a)return w(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=w(b[d]),c+=":",c+=Gb(a[b[d]]);return c+"}"}function Hb(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else A(a,b)}
function Ib(a){B(!Db(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Jb=/^-?\d{1,10}$/;function Fb(a){return Jb.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Kb(a){try{a()}catch(b){setTimeout(function(){C("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function D(a,b){if(fa(a)){var c=Array.prototype.slice.call(arguments,1).slice();Kb(function(){a.apply(null,c)})}};var Lb=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);B(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);B(20===c.length,"nextPushId: Length should be 20.");
return c}}();function Mb(a,b){this.ud={};this.sa=new Nb(a);this.g=b;var c=1E4+2E4*Math.random();setTimeout(r(this.f,this),Math.floor(c))}Mb.prototype.f=function(){var a=this.sa.get(),b={},c=!1,d;for(d in a)0<a[d]&&t(this.ud,d)&&(b[d]=a[d],c=!0);c&&this.g.Vc(b);setTimeout(r(this.f,this),Math.floor(6E5*Math.random()))};function Nb(a){this.g=a;this.f=null}Nb.prototype.get=function(){var a=this.g.get(),b=cb(a);if(this.f)for(var c in this.f)b[c]-=this.f[c];this.f=a;return b};function Ob(){this.f={}}Ob.prototype.get=function(){return cb(this.f)};var Pb={},Qb={};function Rb(a){a=a.toString();Pb[a]||(Pb[a]=new Ob);return Pb[a]}function Sb(a,b){var c=a.toString();Qb[c]||(Qb[c]=b());return Qb[c]};function Tb(){this.f=[]}function Ub(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Wa();null===c||f.$(c.Wa())||(a.f.push(c),c=null);null===c&&(c=new Vb(f));c.add(e)}c&&a.f.push(c)}function Wb(a,b,c){Ub(a,c);Xb(a,function(a){return a.$(b)})}function Yb(a,b,c){Ub(a,c);Xb(a,function(a){return a.contains(b)||b.contains(a)})}
function Xb(a,b){for(var c=!0,d=0;d<a.f.length;d++){var e=a.f[d];if(e)if(e=e.Wa(),b(e)){for(var e=a.f[d],f=0;f<e.cc.length;f++){var g=e.cc[f];if(null!==g){e.cc[f]=null;var k=g.Qa();wb&&tb("event: "+g.toString());Kb(k)}}a.f[d]=null}else c=!1}c&&(a.f=[])}function Vb(a){this.oa=a;this.cc=[]}Vb.prototype.add=function(a){this.cc.push(a)};Vb.prototype.Wa=function(){return this.oa};function Zb(a,b){return a&&"object"===typeof a?(B(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function $b(a,b){var c=new ac;bc(a,new E(""),function(a,e){c.zb(a,cc(e,b))});return c}function cc(a,b){var c=a.J().N(),c=Zb(c,b),d;if(a.R()){var e=Zb(a.va(),b);return e!==a.va()||c!==a.J().N()?new dc(e,F(c)):a}d=a;c!==a.J().N()&&(d=d.ba(new dc(c)));a.X(G,function(a,c){var e=cc(c,b);e!==c&&(d=d.U(a,e))});return d};function E(a,b){if(1==arguments.length){this.F=a.split("/");for(var c=0,d=0;d<this.F.length;d++)0<this.F[d].length&&(this.F[c]=this.F[d],c++);this.F.length=c;this.aa=0}else this.F=a,this.aa=b}function H(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return H(K(a),K(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}function J(a){return a.aa>=a.F.length?null:a.F[a.aa]}function ec(a){return a.F.length-a.aa}
function K(a){var b=a.aa;b<a.F.length&&b++;return new E(a.F,b)}function fc(a){return a.aa<a.F.length?a.F[a.F.length-1]:null}h=E.prototype;h.toString=function(){for(var a="",b=this.aa;b<this.F.length;b++)""!==this.F[b]&&(a+="/"+this.F[b]);return a||"/"};h.slice=function(a){return this.F.slice(this.aa+(a||0))};h.parent=function(){if(this.aa>=this.F.length)return null;for(var a=[],b=this.aa;b<this.F.length-1;b++)a.push(this.F[b]);return new E(a,0)};
h.C=function(a){for(var b=[],c=this.aa;c<this.F.length;c++)b.push(this.F[c]);if(a instanceof E)for(c=a.aa;c<a.F.length;c++)b.push(a.F[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new E(b,0)};h.j=function(){return this.aa>=this.F.length};h.$=function(a){if(ec(this)!==ec(a))return!1;for(var b=this.aa,c=a.aa;b<=this.F.length;b++,c++)if(this.F[b]!==a.F[c])return!1;return!0};
h.contains=function(a){var b=this.aa,c=a.aa;if(ec(this)>ec(a))return!1;for(;b<this.F.length;){if(this.F[b]!==a.F[c])return!1;++b;++c}return!0};var L=new E("");function gc(a,b){this.g=a.slice();this.f=Math.max(1,this.g.length);this.m=b;for(var c=0;c<this.g.length;c++)this.f+=hc(this.g[c]);ic(this)}gc.prototype.push=function(a){0<this.g.length&&(this.f+=1);this.g.push(a);this.f+=hc(a);ic(this)};gc.prototype.pop=function(){var a=this.g.pop();this.f-=hc(a);0<this.g.length&&--this.f};
function ic(a){if(768<a.f)throw Error(a.m+"has a key path longer than 768 bytes ("+a.f+").");if(32<a.g.length)throw Error(a.m+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jc(a));}function jc(a){return 0==a.g.length?"":"in property '"+a.g.join(".")+"'"};function kc(){this.children={};this.Dc=0;this.value=null}function lc(a,b,c){this.m=a?a:"";this.g=b?b:null;this.f=c?c:new kc}function mc(a,b){for(var c=b instanceof E?b:new E(b),d=a,e;null!==(e=J(c));)d=new lc(e,d,v(d.f.children,e)||new kc),c=K(c);return d}h=lc.prototype;h.va=function(){return this.f.value};function nc(a,b){B("undefined"!==typeof b,"Cannot set value to undefined");a.f.value=b;oc(a)}h.ec=function(){return 0<this.f.Dc};h.j=function(){return null===this.va()&&!this.ec()};
h.X=function(a){var b=this;A(this.f.children,function(c,d){a(new lc(d,b,c))})};function pc(a,b,c,d){c&&!d&&b(a);a.X(function(a){pc(a,b,!0,d)});c&&d&&b(a)}function qc(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new E(null===this.g?this.m:this.g.path()+"/"+this.m)};h.name=function(){return this.m};h.parent=function(){return this.g};
function oc(a){if(null!==a.g){var b=a.g,c=a.m,d=a.j(),e=t(b.f.children,c);d&&e?(delete b.f.children[c],b.f.Dc--,oc(b)):d||e||(b.f.children[c]=a.f,b.f.Dc++,oc(b))}};function M(){}M.prototype.R;M.prototype.J;M.prototype.ba;M.prototype.P;M.prototype.ja;M.prototype.Mc;M.prototype.U;M.prototype.M;M.prototype.wa;M.prototype.j;M.prototype.Ra;M.prototype.N;M.prototype.hash;M.prototype.kb;M.prototype.$;M.prototype.La;M.prototype.ub;function N(a,b){this.name=a;this.node=b}function rc(a,b){return new N(a,b)};({}).qe;function sc(a,b){this.g=a;this.f=b?b:tc}h=sc.prototype;h.Ea=function(a,b){return new sc(this.g,this.f.Ea(a,b,this.g).Z(null,null,uc,null,null))};h.remove=function(a){return new sc(this.g,this.f.remove(a,this.g).Z(null,null,uc,null,null))};h.get=function(a){for(var b,c=this.f;!c.j();){b=this.g(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function vc(a,b){for(var c,d=a.f,e=null;!d.j();){c=a.g(b,d.key);if(0===c){if(d.left.j())return e?e.key:null;for(d=d.left;!d.right.j();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.j=function(){return this.f.j()};h.count=function(){return this.f.count()};h.Nb=function(){return this.f.Nb()};h.vb=function(){return this.f.vb()};h.ka=function(a){return this.f.ka(a)};
h.ob=function(a){return new wc(this.f,null,this.g,!1,a)};h.pb=function(a,b){return new wc(this.f,a,this.g,!1,b)};h.qb=function(a,b){return new wc(this.f,a,this.g,!0,b)};h.md=function(a){return new wc(this.f,null,this.g,!0,a)};function wc(a,b,c,d,e){this.f=e||null;this.g=d;this.Fa=[];for(e=1;!a.j();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.g?a.left:a.right;else if(0===e){this.Fa.push(a);break}else this.Fa.push(a),a=this.g?a.right:a.left}
function xc(a){if(0===a.Fa.length)return null;var b=a.Fa.pop(),c;a.f?c=a.f(b.key,b.value):c={key:b.key,value:b.value};if(a.g)for(b=b.left;!b.j();)a.Fa.push(b),b=b.right;else for(b=b.right;!b.j();)a.Fa.push(b),b=b.left;return c}function yc(a){if(0===a.Fa.length)return null;var b;b=a.Fa;b=b[b.length-1];return a.f?a.f(b.key,b.value):{key:b.key,value:b.value}}function zc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:Ac;this.left=null!=d?d:tc;this.right=null!=e?e:tc}var Ac=!0,uc=!1;h=zc.prototype;
h.Z=function(a,b,c,d,e){return new zc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.j=function(){return!1};h.ka=function(a){return this.left.ka(a)||a(this.key,this.value)||this.right.ka(a)};function Bc(a){return a.left.j()?a:Bc(a.left)}h.Nb=function(){return Bc(this).key};h.vb=function(){return this.right.j()?this.key:this.right.vb()};
h.Ea=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.Z(null,null,null,e.left.Ea(a,b,c),null):0===d?e.Z(null,b,null,null,null):e.Z(null,null,null,null,e.right.Ea(a,b,c));return Cc(e)};function Dc(a){if(a.left.j())return tc;a.left.ga()||a.left.left.ga()||(a=Ec(a));a=a.Z(null,null,null,Dc(a.left),null);return Cc(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.j()||c.left.ga()||c.left.left.ga()||(c=Ec(c)),c=c.Z(null,null,null,c.left.remove(a,b),null);else{c.left.ga()&&(c=Fc(c));c.right.j()||c.right.ga()||c.right.left.ga()||(c=Gc(c),c.left.left.ga()&&(c=Fc(c),c=Gc(c)));if(0===b(a,c.key)){if(c.right.j())return tc;d=Bc(c.right);c=c.Z(d.key,d.value,null,null,Dc(c.right))}c=c.Z(null,null,null,null,c.right.remove(a,b))}return Cc(c)};h.ga=function(){return this.color};
function Cc(a){a.right.ga()&&!a.left.ga()&&(a=Hc(a));a.left.ga()&&a.left.left.ga()&&(a=Fc(a));a.left.ga()&&a.right.ga()&&(a=Gc(a));return a}function Ec(a){a=Gc(a);a.right.left.ga()&&(a=a.Z(null,null,null,null,Fc(a.right)),a=Hc(a),a=Gc(a));return a}function Hc(a){return a.right.Z(null,null,a.color,a.Z(null,null,Ac,null,a.right.left),null)}function Fc(a){return a.left.Z(null,null,a.color,null,a.Z(null,null,Ac,a.left.right,null))}
function Gc(a){return a.Z(null,null,!a.color,a.left.Z(null,null,!a.left.color,null,null),a.right.Z(null,null,!a.right.color,null,null))}function Ic(){}h=Ic.prototype;h.Z=function(){return this};h.Ea=function(a,b){return new zc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.j=function(){return!0};h.ka=function(){return!1};h.Nb=function(){return null};h.vb=function(){return null};h.ga=function(){return!1};var tc=new Ic;function Jc(a,b){this.value=a;this.children=b||Kc}var Kc=new sc(function(a,b){return a===b?0:a<b?-1:1});function Lc(a){var b=Mc;A(a,function(a,d){b=b.set(new E(d),a)});return b}h=Jc.prototype;h.j=function(){return null===this.value&&this.children.j()};function Nc(a,b,c){if(null!=a.value&&c(a.value))return{path:L,value:a.value};if(b.j())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=Nc(a,K(b),c),null!=b?{path:(new E(d)).C(b.path),value:b.value}:null):null}
function Oc(a,b){return Nc(a,b,function(){return!0})}h.subtree=function(a){if(a.j())return this;var b=this.children.get(J(a));return null!==b?b.subtree(K(a)):Mc};h.set=function(a,b){if(a.j())return new Jc(b,this.children);var c=J(a),d=(this.children.get(c)||Mc).set(K(a),b),c=this.children.Ea(c,d);return new Jc(this.value,c)};
h.remove=function(a){if(a.j())return this.children.j()?Mc:new Jc(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(K(a)),b=a.j()?this.children.remove(b):this.children.Ea(b,a),null===this.value&&b.j()?Mc:new Jc(this.value,b)):this};h.get=function(a){if(a.j())return this.value;var b=this.children.get(J(a));return b?b.get(K(a)):null};
function Pc(a,b,c){if(b.j())return c;var d=J(b);b=Pc(a.children.get(d)||Mc,K(b),c);d=b.j()?a.children.remove(d):a.children.Ea(d,b);return new Jc(a.value,d)}function Qc(a,b){return Rc(a,L,b)}function Rc(a,b,c){var d={};a.children.ka(function(a,f){d[a]=Rc(f,b.C(a),c)});return c(b,a.value,d)}function Sc(a,b,c){return Tc(a,b,L,c)}function Tc(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.j())return null;e=J(b);return(a=a.children.get(e))?Tc(a,K(b),c.C(e),d):null}
function Uc(a,b,c){if(!b.j()){var d=!0;a.value&&(d=c(L,a.value));!0===d&&(d=J(b),(a=a.children.get(d))&&Vc(a,K(b),L.C(d),c))}}function Vc(a,b,c,d){if(b.j())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?Vc(a,K(b),c.C(e),d):Mc}function Wc(a,b){Xc(a,L,b)}function Xc(a,b,c){a.children.ka(function(a,e){Xc(e,b.C(a),c)});a.value&&c(b,a.value)}function Yc(a,b){a.children.ka(function(a,d){d.value&&b(a,d.value)})}var Mc=new Jc(null);
Jc.prototype.toString=function(){var a={};Wc(this,function(b,c){a[b.toString()]=c.toString()});return w(a)};function Zc(a){this.Y=a}var $c=new Zc(new Jc(null));function ad(a,b,c){if(b.j())return new Zc(new Jc(c));var d=Oc(a.Y,b);if(null!=d){var e=d.path,d=d.value;b=H(e,b);d=d.M(b,c);return new Zc(a.Y.set(e,d))}a=Pc(a.Y,b,new Jc(c));return new Zc(a)}function bd(a,b,c){var d=a;ma(c,function(a,c){d=ad(d,b.C(a),c)});return d}Zc.prototype.mc=function(a){if(a.j())return $c;a=Pc(this.Y,a,Mc);return new Zc(a)};function cd(a,b){var c=Oc(a.Y,b);return null!=c?a.Y.get(c.path).ja(H(c.path,b)):null}
function dd(a){var b=[],c=a.Y.value;null!=c?c.R()||c.X(G,function(a,c){b.push(new N(a,c))}):a.Y.children.ka(function(a,c){null!=c.value&&b.push(new N(a,c.value))});return b}function ed(a,b){if(b.j())return a;var c=cd(a,b);return null!=c?new Zc(new Jc(c)):new Zc(a.Y.subtree(b))}Zc.prototype.j=function(){return this.Y.j()};Zc.prototype.apply=function(a){return fd(L,this.Y,a)};
function fd(a,b,c){if(null!=b.value)return c.M(a,b.value);var d=null;b.children.ka(function(b,f){".priority"===b?(B(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=fd(a.C(b),f,c)});c.ja(a).j()||null===d||(c=c.M(a.C(".priority"),d));return c};function gd(a,b,c){this.f=a;this.ca=b;this.mb=c}function hd(a){return a.ca}function id(a,b){return a.ca&&!a.mb||a.f.wa(b)}gd.prototype.u=function(){return this.f};oa.ue;function jd(){this.f=$c;this.g=[];this.m=-1}h=jd.prototype;
h.mc=function(a){var b=Oa(this.g,function(b){return b.vc===a});B(0<=b,"removeWrite called with nonexistent writeId.");var c=this.g[b];this.g.splice(b,1);for(var d=c.visible,e=!1,f=this.g.length-1;d&&0<=f;){var g=this.g[f];g.visible&&(f>=b&&kd(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.f=ld(this.g,md,L),0<this.g.length?this.m=this.g[this.g.length-1].vc:this.m=-1;else if(c.Ba)this.f=this.f.mc(c.path);else{var k=this;A(c.children,function(a,b){k.f=k.f.mc(c.path.C(b))})}return c.path}return null};
h.qa=function(a,b,c,d){if(c||d){var e=ed(this.f,a);return!d&&e.j()?b:d||null!=b||null!=cd(e,L)?(e=ld(this.g,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.vc)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||y,e.apply(b)):null}e=cd(this.f,a);if(null!=e)return e;e=ed(this.f,a);return e.j()?b:null!=b||null!=cd(e,L)?(b=b||y,e.apply(b)):null};
h.Gb=function(a,b){var c=y,d=cd(this.f,a);if(d)d.R()||d.X(G,function(a,b){c=c.U(a,b)});else if(b){var e=ed(this.f,a);b.X(G,function(a,b){var d=ed(e,new E(a)).apply(b);c=c.U(a,d)});Ba(dd(e),function(a){c=c.U(a.name,a.node)})}else e=ed(this.f,a),Ba(dd(e),function(a){c=c.U(a.name,a.node)});return c};h.Tb=function(a,b,c,d){B(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.C(b);if(null!=cd(this.f,a))return null;a=ed(this.f,a);return a.j()?d.ja(b):a.apply(d.ja(b))};
h.Ia=function(a,b,c){a=a.C(b);var d=cd(this.f,a);return null!=d?d:id(c,b)?ed(this.f,a).apply(c.u().P(b)):null};h.Cb=function(a){return cd(this.f,a)};h.Ac=function(a,b,c,d,e,f){var g;a=ed(this.f,a);g=cd(a,L);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.La(f);if(g.j()||g.R())return[];b=[];a=nd(f);e=e?g.qb(c,f):g.pb(c,f);for(f=xc(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=xc(e);return b};
function kd(a,b){return a.Ba?a.path.contains(b):!!$a(a.children,function(c,d){return a.path.C(d).contains(b)})}function md(a){return a.visible}
function ld(a,b,c){for(var d=$c,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ba)c.contains(g)?(g=H(c,g),d=ad(d,g,f.Ba)):g.contains(c)&&(g=H(g,c),d=ad(d,L,f.Ba.ja(g)));else if(f.children)if(c.contains(g))g=H(c,g),d=bd(d,g,f.children);else{if(g.contains(c))if(g=H(g,c),g.j())d=bd(d,L,f.children);else if(f=v(f.children,J(g)))f=f.ja(K(g)),d=ad(d,L,f)}else throw qb("WriteRecord should have .snap or .children");}}return d}function od(a,b){this.fb=a;this.Y=b}h=od.prototype;
h.qa=function(a,b,c){return this.Y.qa(this.fb,a,b,c)};h.Gb=function(a){return this.Y.Gb(this.fb,a)};h.Tb=function(a,b,c){return this.Y.Tb(this.fb,a,b,c)};h.Cb=function(a){return this.Y.Cb(this.fb.C(a))};h.Ac=function(a,b,c,d,e){return this.Y.Ac(this.fb,a,b,c,d,e)};h.Ia=function(a,b){return this.Y.Ia(this.fb,a,b)};h.C=function(a){return new od(this.fb.C(a),this.Y)};function pd(a,b){return Eb(a.name,b.name)}function qd(a,b){return Eb(a,b)};function rd(){}rd.f;var sd={};function nd(a){return r(a.compare,a)}rd.prototype.gc=function(a,b){return 0!==this.compare(new N("[MIN_NAME]",a),new N("[MIN_NAME]",b))};rd.prototype.Ob=function(){return td};function ud(a){this.f=a}ka(ud,rd);h=ud.prototype;h.Kb=function(a){return!a.P(this.f).j()};h.compare=function(a,b){var c=a.node.P(this.f),d=b.node.P(this.f),c=c.kb(d);return 0===c?Eb(a.name,b.name):c};h.Lb=function(a,b){var c=F(a),c=y.U(this.f,c);return new N(b,c)};
h.Mb=function(){var a=y.U(this.f,vd);return new N("[MAX_NAME]",a)};h.toString=function(){return this.f};function wd(){}ka(wd,rd);h=wd.prototype;h.compare=function(a,b){var c=a.node.J(),d=b.node.J(),c=c.kb(d);return 0===c?Eb(a.name,b.name):c};h.Kb=function(a){return!a.J().j()};h.gc=function(a,b){return!a.J().$(b.J())};h.Ob=function(){return td};h.Mb=function(){return new N("[MAX_NAME]",new dc("[PRIORITY-POST]",vd))};h.Lb=function(a,b){var c=F(a);return new N(b,new dc("[PRIORITY-POST]",c))};
h.toString=function(){return".priority"};var G=new wd;function xd(){}ka(xd,rd);h=xd.prototype;h.compare=function(a,b){return Eb(a.name,b.name)};h.Kb=function(){throw qb("KeyIndex.isDefinedOn not expected to be called.");};h.gc=function(){return!1};h.Ob=function(){return td};h.Mb=function(){return new N("[MAX_NAME]",y)};h.Lb=function(a){B(q(a),"KeyIndex indexValue must always be a string.");return new N(a,y)};h.toString=function(){return".key"};var yd=new xd;function zd(){}ka(zd,rd);h=zd.prototype;
h.compare=function(a,b){var c=a.node.kb(b.node);return 0===c?Eb(a.name,b.name):c};h.Kb=function(){return!0};h.gc=function(a,b){return!a.$(b)};h.Ob=function(){return td};h.Mb=function(){return Ad};h.Lb=function(a,b){var c=F(a);return new N(b,c)};h.toString=function(){return".value"};var Bd=new zd;function dc(a,b){this.K=a;B(p(this.K)&&null!==this.K,"LeafNode shouldn't be created with null/undefined value.");this.fa=b||y;Cd(this.fa);this.f=null}h=dc.prototype;h.R=function(){return!0};h.J=function(){return this.fa};h.ba=function(a){return new dc(this.K,a)};h.P=function(a){return".priority"===a?this.fa:y};h.ja=function(a){return a.j()?this:".priority"===J(a)?this.fa:y};h.wa=function(){return!1};h.Mc=function(){return null};
h.U=function(a,b){return".priority"===a?this.ba(b):b.j()&&".priority"!==a?this:y.U(a,b).ba(this.fa)};h.M=function(a,b){var c=J(a);if(null===c)return b;if(b.j()&&".priority"!==c)return this;B(".priority"!==c||1===ec(a),".priority must be the last token in a path");return this.U(c,y.M(K(a),b))};h.j=function(){return!1};h.Ra=function(){return 0};h.N=function(a){return a&&!this.J().j()?{".value":this.va(),".priority":this.J().N()}:this.va()};
h.hash=function(){if(null===this.f){var a="";this.fa.j()||(a+="priority:"+Dd(this.fa.N())+":");var b=typeof this.K,a=a+(b+":"),a="number"===b?a+Ib(this.K):a+this.K;this.f=ub(a)}return this.f};h.va=function(){return this.K};h.kb=function(a){if(a===y)return 1;if(a instanceof Ed)return-1;B(a.R(),"Unknown node type");var b=typeof a.K,c=typeof this.K,d=Ia(Fd,b),e=Ia(Fd,c);B(0<=d,"Unknown leaf type: "+b);B(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.K<a.K?-1:this.K===a.K?0:1:e-d};
var Fd=["object","boolean","number","string"];dc.prototype.La=function(){return this};dc.prototype.ub=function(){return!0};dc.prototype.$=function(a){return a===this?!0:a.R()?this.K===a.K&&this.fa.$(a.fa):!1};dc.prototype.toString=function(){return w(this.N(!0))};function Gd(a,b){this.f=a;this.sb=b}Gd.prototype.get=function(a){var b=v(this.f,a);if(!b)throw Error("No index defined for "+a);return b===sd?null:b};function Hd(a,b,c){var d=Sa(a.f,function(d,f){var g=v(a.sb,f);B(g,"Missing index implementation for "+f);if(d===sd){if(g.Kb(b.node)){for(var k=[],l=c.ob(rc),m=xc(l);m;)m.name!=b.name&&k.push(m),m=xc(l);k.push(b);return Id(k,nd(g))}return sd}g=c.get(b.name);k=d;g&&(k=k.remove(new N(b.name,g)));return k.Ea(b,b.node)});return new Gd(d,a.sb)}
function Jd(a,b,c){var d=Sa(a.f,function(a){if(a===sd)return a;var d=c.get(b.name);return d?a.remove(new N(b.name,d)):a});return new Gd(d,a.sb)}var Kd=new Gd({".priority":sd},{".priority":G});function Ed(a,b,c){this.D=a;(this.fa=b)&&Cd(this.fa);a.j()&&B(!this.fa||this.fa.j(),"An empty node cannot have a priority");this.f=c;this.g=null}h=Ed.prototype;h.R=function(){return!1};h.J=function(){return this.fa||y};h.ba=function(a){return this.D.j()?this:new Ed(this.D,a,this.f)};h.P=function(a){if(".priority"===a)return this.J();a=this.D.get(a);return null===a?y:a};h.ja=function(a){var b=J(a);return null===b?this:this.P(b).ja(K(a))};h.wa=function(a){return null!==this.D.get(a)};
h.U=function(a,b){B(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ba(b);var c=new N(a,b),d,e;b.j()?(d=this.D.remove(a),c=Jd(this.f,c,this.D)):(d=this.D.Ea(a,b),c=Hd(this.f,c,this.D));e=d.j()?y:this.fa;return new Ed(d,e,c)};h.M=function(a,b){var c=J(a);if(null===c)return b;B(".priority"!==J(a)||1===ec(a),".priority must be the last token in a path");var d=this.P(c).M(K(a),b);return this.U(c,d)};h.j=function(){return this.D.j()};h.Ra=function(){return this.D.count()};
var Ld=/^(0|[1-9]\d*)$/;h=Ed.prototype;h.N=function(a){if(this.j())return null;var b={},c=0,d=0,e=!0;this.X(G,function(f,g){b[f]=g.N(a);c++;e&&Ld.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.J().j()&&(b[".priority"]=this.J().N());return b};h.hash=function(){if(null===this.g){var a="";this.J().j()||(a+="priority:"+Dd(this.J().N())+":");this.X(G,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.g=""===a?"":ub(a)}return this.g};
h.Mc=function(a,b,c){return(c=Nd(this,c))?(a=vc(c,new N(a,b)))?a.name:null:vc(this.D,a)};function Od(a,b){var c;c=(c=Nd(a,b))?(c=c.Nb())&&c.name:a.D.Nb();return c?new N(c,a.D.get(c)):null}function Pd(a,b){var c;c=(c=Nd(a,b))?(c=c.vb())&&c.name:a.D.vb();return c?new N(c,a.D.get(c)):null}h.X=function(a,b){var c=Nd(this,a);return c?c.ka(function(a){return b(a.name,a.node)}):this.D.ka(b)};h.ob=function(a){return this.pb(a.Ob(),a)};
h.pb=function(a,b){var c=Nd(this,b);if(c)return c.pb(a,function(a){return a});for(var c=this.D.pb(a.name,rc),d=yc(c);null!=d&&0>b.compare(d,a);)xc(c),d=yc(c);return c};h.md=function(a){return this.qb(a.Mb(),a)};h.qb=function(a,b){var c=Nd(this,b);if(c)return c.qb(a,function(a){return a});for(var c=this.D.qb(a.name,rc),d=yc(c);null!=d&&0<b.compare(d,a);)xc(c),d=yc(c);return c};h.kb=function(a){return this.j()?a.j()?0:-1:a.R()||a.j()?1:a===vd?-1:0};
h.La=function(a){if(a===yd||Za(this.f.sb,a.toString()))return this;var b=this.f,c=this.D;B(a!==yd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.ob(rc),f=xc(c);f;)e=e||a.Kb(f.node),d.push(f),f=xc(c);var g;e?g=Id(d,nd(a)):g=sd;d=a.toString();e=cb(b.sb);e[d]=a;a=cb(b.f);a[d]=g;return new Ed(this.D,this.fa,new Gd(a,e))};h.ub=function(a){return a===yd||Za(this.f.sb,a.toString())};
h.$=function(a){if(a===this)return!0;if(a.R())return!1;if(this.J().$(a.J())&&this.D.count()===a.D.count()){var b=this.ob(G);a=a.ob(G);for(var c=xc(b),d=xc(a);c&&d;){if(c.name!==d.name||!c.node.$(d.node))return!1;c=xc(b);d=xc(a)}return null===c&&null===d}return!1};function Nd(a,b){return b===yd?null:a.f.get(b.toString())}h.toString=function(){return w(this.N(!0))};function F(a,b){if(null===a)return y;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);B(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new dc(a,F(c));if(a instanceof Array){var d=y,e=a;A(e,function(a,b){if(t(e,b)&&"."!==b.substring(0,1)){var c=F(a);if(c.R()||!c.j())d=
d.U(b,c)}});return d.ba(F(c))}var f=[],g=!1,k=a;ma(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=F(k[a]);b.j()||(g=g||!b.J().j(),f.push(new N(a,b)))}});if(0==f.length)return y;var l=Id(f,pd,function(a){return a.name},qd);if(g){var m=Id(f,nd(G));return new Ed(l,F(c),new Gd({".priority":m},{".priority":G}))}return new Ed(l,F(c),Kd)}var Qd=Math.log(2);
function Rd(a){this.count=parseInt(Math.log(a+1)/Qd,10);this.gd=this.count-1;this.Nd=a+1&parseInt(Array(this.count+1).join("1"),2)}function Sd(a){var b=!(a.Nd&1<<a.gd);a.gd--;return b}
function Id(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],u=c?c(m):m;return new zc(u,m.node,uc,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),z=e(m+1,d),m=a[m],u=c?c(m):m;return new zc(u,m.node,uc,f,z)}a.sort(b);var f=function(b){function d(b,g){var k=u-b,z=u;u-=b;var z=e(k+1,z),k=a[k],I=c?c(k):k,z=new zc(I,k.node,g,null,z);f?f.left=z:m=z;f=z}for(var f=null,m=null,u=a.length,z=0;z<b.count;++z){var I=Sd(b),Md=Math.pow(2,b.count-(z+1));I?d(Md,uc):(d(Md,uc),d(Md,Ac))}return m}(new Rd(a.length));
return null!==f?new sc(d||b,f):new sc(d||b)}function Dd(a){return"number"===typeof a?"number:"+Ib(a):"string:"+a}function Cd(a){if(a.R()){var b=a.N();B("string"===typeof b||"number"===typeof b||"object"===typeof b&&t(b,".sv"),"Priority must be a string or number.")}else B(a===vd||a.j(),"priority of unexpected type.");B(a===vd||a.J().j(),"Priority nodes can't have a priority of their own.")}var y=new Ed(new sc(qd),null,Kd);function Td(){Ed.call(this,new sc(qd),y,Kd)}ka(Td,Ed);h=Td.prototype;
h.kb=function(a){return a===this?0:1};h.$=function(a){return a===this};h.J=function(){return this};h.P=function(){return y};h.j=function(){return!1};var vd=new Td,td=new N("[MIN_NAME]",y),Ad=new N("[MAX_NAME]",vd);function Ud(a,b){this.L=a;this.f=b}function Vd(a,b,c,d){return new Ud(new gd(b,c,d),a.f)}function Wd(a){return a.L.ca?a.L.u():null}Ud.prototype.I=function(){return this.f};function Xd(a){return a.f.ca?a.f.u():null};function Yd(){}Yd.prototype.ld=function(){return null};Yd.prototype.Kc=function(){return null};var Zd=new Yd;function $d(a,b,c){this.yd=a;this.Da=b;this.ic=c}$d.prototype.ld=function(a){var b=this.Da.L;if(id(b,a))return b.u().P(a);b=null!=this.ic?new gd(this.ic,!0,!1):this.Da.I();return this.yd.Ia(a,b)};$d.prototype.Kc=function(a,b,c){var d=null!=this.ic?this.ic:Xd(this.Da);a=this.yd.Ac(d,b,1,c,a);return 0===a.length?null:a[0]};function ae(a,b){this.uc=a;this.Od=b}function be(a){this.O=a}
be.prototype.Ma=function(a,b,c,d){var e=new ce,f;if(b.type===de)b.source.Ic?c=ee(this,a,b.path,b.Ba,c,d,e):(B(b.source.kd,"Unknown source."),f=b.source.cd,c=fe(this,a,b.path,b.Ba,c,d,f,e));else if(b.type===ge)b.source.Ic?c=he(this,a,b.path,b.children,c,d,e):(B(b.source.kd,"Unknown source."),f=b.source.cd,c=ie(this,a,b.path,b.children,c,d,f,e));else if(b.type===je)if(b.Yc)if(f=b.path,null!=c.Cb(f))c=a;else{b=new $d(c,a,d);d=a.L.u();if(f.j()||".priority"===J(f))hd(a.I())?b=c.qa(Xd(a)):(b=a.I().u(),
B(b instanceof Ed,"serverChildren would be complete if leaf node"),b=c.Gb(b)),b=this.O.pa(d,b,e);else{f=J(f);var g=c.Ia(f,a.I());null==g&&id(a.I(),f)&&(g=d.P(f));b=null!=g?this.O.M(d,f,g,b,e):a.L.u().wa(f)?this.O.M(d,f,y,b,e):d;b.j()&&hd(a.I())&&(d=c.qa(Xd(a)),d.R()&&(b=this.O.pa(b,d,e)))}d=hd(a.I())||null!=c.Cb(L);c=Vd(a,b,d,this.O.za())}else c=ke(this,a,b.path,c,d,e);else if(b.type===le)d=b.path,b=a.I(),f=b.u(),g=b.ca||d.j(),c=me(this,new Ud(a.L,new gd(f,g,b.mb)),d,c,Zd,e);else throw qb("Unknown operation type: "+
b.type);e=Wa(e.f);d=c;b=d.L;b.ca&&(f=b.u().R()||b.u().j(),g=Wd(a),(0<e.length||!a.L.ca||f&&!b.u().$(g)||!b.u().J().$(g.J()))&&e.push(ne(Wd(d))));return new ae(c,e)};
function me(a,b,c,d,e,f){var g=b.L;if(null!=d.Cb(c))return b;var k;if(c.j())B(hd(b.I()),"If change path is empty, we must have complete server data"),b.I().mb?(e=Xd(b),d=d.Gb(e instanceof Ed?e:y)):d=d.qa(Xd(b)),f=a.O.pa(b.L.u(),d,f);else{var l=J(c);if(".priority"==l)B(1==ec(c),"Can't have a priority with additional path components"),f=g.u(),k=b.I().u(),d=d.Tb(c,f,k),f=null!=d?a.O.ba(f,d):g.u();else{var m=K(c);id(g,l)?(k=b.I().u(),d=d.Tb(c,g.u(),k),d=null!=d?g.u().P(l).M(m,d):g.u().P(l)):d=d.Ia(l,
b.I());f=null!=d?a.O.M(g.u(),l,d,e,f):g.u()}}return Vd(b,f,g.ca||c.j(),a.O.za())}function fe(a,b,c,d,e,f,g,k){var l=b.I();g=g?a.O:a.O.nb();if(c.j())d=g.pa(l.u(),d,null);else if(g.za()&&!l.mb)d=l.u().M(c,d),d=g.pa(l.u(),d,null);else{var m=J(c);if((c.j()?!l.ca||l.mb:!id(l,J(c)))&&1<ec(c))return b;d=l.u().P(m).M(K(c),d);d=".priority"==m?g.ba(l.u(),d):g.M(l.u(),m,d,Zd,null)}l=l.ca||c.j();b=new Ud(b.L,new gd(d,l,g.za()));return me(a,b,c,e,new $d(e,b,f),k)}
function ee(a,b,c,d,e,f,g){var k=b.L;e=new $d(e,b,f);if(c.j())d=a.O.pa(b.L.u(),d,g),a=Vd(b,d,!0,a.O.za());else if(f=J(c),".priority"===f)d=a.O.ba(b.L.u(),d),a=Vd(b,d,k.ca,k.mb);else{c=K(c);var l=k.u().P(f),m;if(c.j())m=d;else{var u=e.ld(f);null!=u?m=".priority"===fc(c)&&u.ja(c.parent()).j()?u:u.M(c,d):m=y}l.$(m)?a=b:(d=a.O.M(k.u(),f,m,e,g),a=Vd(b,d,k.ca,a.O.za()))}return a}
function he(a,b,c,d,e,f,g){var k=b;Wc(d,function(d,m){var u=c.C(d);id(b.L,J(u))&&(k=ee(a,k,u,m,e,f,g))});Wc(d,function(d,m){var u=c.C(d);id(b.L,J(u))||(k=ee(a,k,u,m,e,f,g))});return k}function oe(a,b){Wc(b,function(b,d){a=a.M(b,d)});return a}
function ie(a,b,c,d,e,f,g,k){if(b.I().u().j()&&!hd(b.I()))return b;var l=b;c=c.j()?d:Pc(Mc,c,d);var m=b.I().u();c.children.ka(function(c,d){if(m.wa(c)){var I=b.I().u().P(c),I=oe(I,d);l=fe(a,l,new E(c),I,e,f,g,k)}});c.children.ka(function(c,d){var I=!hd(b.I())&&null==d.value;m.wa(c)||I||(I=b.I().u().P(c),I=oe(I,d),l=fe(a,l,new E(c),I,e,f,g,k))});return l}
function ke(a,b,c,d,e,f){if(null!=d.Cb(c))return b;var g=new $d(d,b,e),k=e=b.L.u();if(hd(b.I())){if(c.j())e=d.qa(Xd(b)),k=a.O.pa(b.L.u(),e,f);else if(".priority"===J(c)){var l=d.Ia(J(c),b.I());null==l||e.j()||e.J().$(l)||(k=a.O.ba(e,l))}else l=J(c),e=d.Ia(l,b.I()),null!=e&&(k=a.O.M(b.L.u(),l,e,g,f));e=!0}else if(b.L.ca||c.j())k=e,e=b.L.u(),e.R()||e.X(G,function(c){var e=d.Ia(c,b.I());null!=e&&(k=a.O.M(k,c,e,g,f))}),e=b.L.ca;else{l=J(c);if(1==ec(c)||id(b.L,l))c=d.Ia(l,b.I()),null!=c&&(k=a.O.M(e,l,
c,g,f));e=!1}return Vd(b,k,e,a.O.za())};function pe(a){this.g=a;this.w=a.G.W()}function qe(a,b,c,d){var e=[],f=[];Ba(b,function(b){b.type===re&&a.w.gc(b.Sc,b.Ca)&&f.push(new O(se,b.Ca,b.Ja))});te(a,e,ue,b,d,c);te(a,e,ve,b,d,c);te(a,e,se,f,d,c);te(a,e,re,b,d,c);te(a,e,we,b,d,c);return e}function te(a,b,c,d,e,f){d=Ja(d,function(a){return a.type===c});Qa(d,r(a.f,a));Ba(d,function(c){var d=xe(a,c,f);Ba(e,function(e){e.Xc(c.type)&&b.push(e.createEvent(d,a.g))})})}
function xe(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.lc=c.Mc(b.Ja,b.Ca,a.w));return b}pe.prototype.f=function(a,b){if(null==a.Ja||null==b.Ja)throw qb("Should only compare child_ events.");return this.w.compare(new N(a.Ja,a.Ca),new N(b.Ja,b.Ca))};function ye(a,b){this.ya=a;var c=a.G,d=new ze(c.W()),c=Ae(c)?new ze(c.W()):c.la?new Be(c):new Ce(c);this.g=new be(c);var e=b.I(),f=b.L,g=d.pa(y,e.u(),null),k=c.pa(y,f.u(),null);this.Da=new Ud(new gd(k,f.ca,c.za()),new gd(g,e.ca,d.za()));this.f=[];this.m=new pe(a)}function De(a){return a.ya}h=ye.prototype;h.I=function(){return this.Da.I().u()};h.Pa=function(a){var b=Xd(this.Da);return b&&(Ae(this.ya.G)||!a.j()&&!b.P(J(a)).j())?b.ja(a):null};h.j=function(){return 0===this.f.length};h.ib=function(a){this.f.push(a)};
h.Sa=function(a,b){var c=[];if(b){B(null==a,"A cancel should cancel all event registrations.");var d=this.ya.path;Ba(this.f,function(a){(a=a.Ec(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.f.length;++f){var g=this.f[f];if(!g.matches(a))e.push(g);else if(a.Nc()){e=e.concat(this.f.slice(f+1));break}}this.f=e}else this.f=[];return c};
h.Ma=function(a,b,c){a.type===ge&&null!==a.source.ab&&(B(Xd(this.Da),"We should always have a full cache before handling merges"),B(Wd(this.Da),"Missing event cache, even though we have a server cache"));var d=this.Da;a=this.g.Ma(d,a,b,c);b=this.g;c=a.uc;B(c.L.u().ub(b.O.W()),"Event snap not indexed");B(c.I().u().ub(b.O.W()),"Server snap not indexed");B(hd(a.uc.I())||!hd(d.I()),"Once a server snap is complete, it should never go back");this.Da=a.uc;return Ee(this,a.Od,a.uc.L.u(),null)};
function Fe(a,b){var c=a.Da.L,d=[];c.u().R()||c.u().X(G,function(a,b){d.push(new O(ve,b,a))});c.ca&&d.push(ne(c.u()));return Ee(a,d,c.u(),b)}function Ee(a,b,c,d){return qe(a.m,b,c,d?[d]:a.f)};function O(a,b,c,d){this.type=a;this.Ca=b;this.Ja=c;this.Sc=d;this.lc=void 0}function ne(a){return new O(we,a)}var ve="child_added",ue="child_removed",re="child_changed",se="child_moved",we="value";function Ge(){}Ge.prototype.Wa;Ge.prototype.dc;Ge.prototype.Qa;Ge.prototype.toString;function He(a,b,c,d){this.Gc=b;this.oc=c;this.lc=d;this.bc=a}He.prototype.Wa=function(){var a=this.oc.yb();return"value"===this.bc?a.path:a.parent().path};He.prototype.dc=function(){return this.bc};He.prototype.Qa=function(){return this.Gc.Qa(this)};He.prototype.toString=function(){return this.Wa().toString()+":"+this.bc+":"+w(this.oc.hd())};function Ie(a,b,c){this.Gc=a;this.error=b;this.path=c}Ie.prototype.Wa=function(){return this.path};
Ie.prototype.dc=function(){return"cancel"};Ie.prototype.Qa=function(){return this.Gc.Qa(this)};Ie.prototype.toString=function(){return this.path.toString()+":cancel"};function Je(){}Je.prototype.Xc;Je.prototype.createEvent;Je.prototype.Qa;Je.prototype.Ec;Je.prototype.matches;Je.prototype.Nc;function Ke(a,b,c){this.jb=a;this.Ta=b;this.Ua=c||null}h=Ke.prototype;h.Xc=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.G.W();return new He("value",this,new P(a.Ca,b.yb(),c))};
h.Qa=function(a){var b=this.Ua;if("cancel"===a.dc()){B(this.Ta,"Raising a cancel event on a listener with no cancel callback");var c=this.Ta;return function(){c.call(b,a.error)}}var d=this.jb;return function(){d.call(b,a.oc)}};h.Ec=function(a,b){return this.Ta?new Ie(this,a,b):null};h.matches=function(a){return a instanceof Ke?a.jb&&this.jb?a.jb===this.jb&&a.Ua===this.Ua:!0:!1};h.Nc=function(){return null!==this.jb};function Le(a,b,c){this.ia=a;this.Ta=b;this.Ua=c}h=Le.prototype;
h.Xc=function(a){a="children_added"===a?"child_added":a;return Ya(this.ia,"children_removed"===a?"child_removed":a)};h.Ec=function(a,b){return this.Ta?new Ie(this,a,b):null};h.createEvent=function(a,b){B(null!=a.Ja,"Child events should have a childName.");var c=b.yb().C(a.Ja);return new He(a.type,this,new P(a.Ca,c,b.G.W()),a.lc)};
h.Qa=function(a){var b=this.Ua;if("cancel"===a.dc()){B(this.Ta,"Raising a cancel event on a listener with no cancel callback");var c=this.Ta;return function(){c.call(b,a.error)}}var d=this.ia[a.bc];return function(){d.call(b,a.oc,a.lc)}};
h.matches=function(a){if(a instanceof Le){if(!this.ia||!a.ia)return!0;if(this.Ua===a.Ua){var b=Ua(a.ia);if(b===Ua(this.ia)){if(1===b){var b=Va(a.ia),c=Va(this.ia);return c===b&&(!a.ia[b]||!this.ia[c]||a.ia[b]===this.ia[c])}return Ta(this.ia,function(b,c){return a.ia[c]===b})}}}return!1};h.Nc=function(){return null!==this.ia};function Me(){this.f={}}h=Me.prototype;h.j=function(){return bb(this.f)};h.Ma=function(a,b,c){var d=a.source.ab;if(null!==d)return d=v(this.f,d),B(null!=d,"SyncTree gave us an op for an invalid query."),d.Ma(a,b,c);var e=[];A(this.f,function(d){e=e.concat(d.Ma(a,b,c))});return e};h.ib=function(a,b,c,d,e){var f=a.ra(),g=v(this.f,f);if(!g){var g=c.qa(e?d:null),k=!1;g?k=!0:(d instanceof Ed?g=c.Gb(d):g=y,k=!1);g=new ye(a,new Ud(new gd(g,k,!1),new gd(d,e,!1)));this.f[f]=g}g.ib(b);return Fe(g,b)};
h.Sa=function(a,b,c){var d=a.ra(),e=[],f=[],g=null!=Ne(this);if("default"===d){var k=this;A(this.f,function(a,d){f=f.concat(a.Sa(b,c));a.j()&&(delete k.f[d],Ae(a.ya.G)||e.push(a.ya))})}else{var l=v(this.f,d);l&&(f=f.concat(l.Sa(b,c)),l.j()&&(delete this.f[d],Ae(l.ya.G)||e.push(l.ya)))}g&&null==Ne(this)&&e.push(new Q(a.B,a.path));return{fe:e,Qd:f}};function Oe(a){return Ja(Wa(a.f),function(a){return!Ae(a.ya.G)})}h.Pa=function(a){var b=null;A(this.f,function(c){b=b||c.Pa(a)});return b};
function Pe(a,b){if(Ae(b.G))return Ne(a);var c=b.ra();return v(a.f,c)}function Ne(a){return ab(a.f,function(a){return Ae(a.ya.G)})||null};function Qe(a,b,c){this.type=de;this.source=a;this.path=b;this.Ba=c}Qe.prototype.Pb=function(a){return this.path.j()?new Qe(this.source,L,this.Ba.P(a)):new Qe(this.source,K(this.path),this.Ba)};Qe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ba.toString()+")"};function Re(a,b,c){this.type=ge;this.source=a;this.path=b;this.children=c}Re.prototype.Pb=function(a){if(this.path.j())return a=this.children.subtree(new E(a)),a.j()?null:a.value?new Qe(this.source,L,a.value):new Re(this.source,L,a);B(J(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new Re(this.source,K(this.path),this.children)};Re.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function Se(a,b){this.type=le;this.source=a;this.path=b}Se.prototype.Pb=function(){return this.path.j()?new Se(this.source,L):new Se(this.source,K(this.path))};Se.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function Te(a,b){this.type=je;this.source=Ue;this.path=a;this.Yc=b}Te.prototype.Pb=function(){return this.path.j()?this:new Te(K(this.path),this.Yc)};Te.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yc+")"};var de=0,ge=1,je=2,le=3;function Ve(){}Ve.prototype.source;Ve.prototype.type;Ve.prototype.path;function We(a,b,c,d){this.Ic=a;this.kd=b;this.ab=c;this.cd=d;B(!d||b,"Tagged queries must be from server.")}var Ue=new We(!0,!1,null,!1),Xe=new We(!1,!0,null,!1);We.prototype.toString=function(){return this.Ic?"user":this.cd?"server(queryID="+this.ab+")":"server"};oa.re;function Ye(a){this.f=Mc;this.g=new jd;this.A={};this.m={};this.o=a}function Ze(a,b,c,d,e){var f=a.g,g=e;B(d>f.m,"Stacking an older write on top of newer ones");p(g)||(g=!0);f.g.push({path:b,Ba:c,vc:d,visible:g});g&&(f.f=ad(f.f,b,c));f.m=d;return e?$e(a,new Qe(Ue,b,c)):[]}function af(a,b,c,d){var e=a.g;B(d>e.m,"Stacking an older merge on top of newer ones");e.g.push({path:b,children:c,vc:d,visible:!0});e.f=bd(e.f,b,c);e.m=d;c=Lc(c);return $e(a,new Re(Ue,b,c))}
function bf(a,b,c){c=c||!1;b=a.g.mc(b);return null==b?[]:$e(a,new Te(b,c))}function cf(a,b,c){c=Lc(c);return $e(a,new Re(Xe,b,c))}function df(a,b,c,d){d=ef(a,d);if(null!=d){var e=ff(d);d=e.path;e=e.ab;b=H(d,b);c=new Qe(new We(!1,!0,e,!0),b,c);return gf(a,d,c)}return[]}function hf(a,b,c,d){if(d=ef(a,d)){var e=ff(d);d=e.path;e=e.ab;b=H(d,b);c=Lc(c);c=new Re(new We(!1,!0,e,!0),b,c);return gf(a,d,c)}return[]}
Ye.prototype.ib=function(a,b){var c=a.path,d=null,e=!1;Uc(this.f,c,function(a,b){var f=H(a,c);d=b.Pa(f);e=e||null!=Ne(b);return!d});var f=this.f.get(c);f?(e=e||null!=Ne(f),d=d||f.Pa(L)):(f=new Me,this.f=this.f.set(c,f));var g;null!=d?g=!0:(g=!1,d=y,Yc(this.f.subtree(c),function(a,b){var c=b.Pa(L);c&&(d=d.U(a,c))}));var k=null!=Pe(f,a);if(!k&&!Ae(a.G)){var l=jf(a);B(!Ya(this.m,l),"View does not exist, but we have a tag");var m=kf++;this.m[l]=m;this.A["_"+m]=l}g=f.ib(a,b,new od(c,this.g),d,g);k||e||
(f=Pe(f,a),g=g.concat(lf(this,a,f)));return g};
Ye.prototype.Sa=function(a,b,c){var d=a.path,e=this.f.get(d),f=[];if(e&&("default"===a.ra()||null!=Pe(e,a))){f=e.Sa(a,b,c);e.j()&&(this.f=this.f.remove(d));e=f.fe;f=f.Qd;b=-1!==Oa(e,function(a){return Ae(a.G)});var g=Sc(this.f,d,function(a,b){return null!=Ne(b)});if(b&&!g&&(d=this.f.subtree(d),!d.j()))for(var d=mf(d),k=0;k<d.length;++k){var l=d[k],m=l.ya,l=nf(this,l);this.o.$c(m,of(this,m),l.fc,l.S)}if(!g&&0<e.length&&!c)if(b)this.o.qc(a,null);else{var u=this;Ba(e,function(a){a.ra();var b=u.m[jf(a)];
u.o.qc(a,b)})}pf(this,e)}return f};Ye.prototype.qa=function(a,b){var c=this.g,d=Sc(this.f,a,function(b,c){var d=H(b,a);if(d=c.Pa(d))return d});return c.qa(a,d,b,!0)};function mf(a){return Qc(a,function(a,c,d){if(c&&null!=Ne(c))return[Ne(c)];var e=[];c&&(e=Oe(c));A(d,function(a){e=e.concat(a)});return e})}function pf(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!Ae(d.G)){var d=jf(d),e=a.m[d];delete a.m[d];delete a.A["_"+e]}}}
function lf(a,b,c){var d=b.path,e=of(a,b);c=nf(a,c);b=a.o.$c(b,e,c.fc,c.S);d=a.f.subtree(d);if(e)B(null==Ne(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=Qc(d,function(a,b,c){if(!a.j()&&b&&null!=Ne(b))return[De(Ne(b))];var d=[];b&&(d=d.concat(Ka(Oe(b),function(a){return a.ya})));A(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.o.qc(c,of(a,c));return b}
function nf(a,b){var c=b.ya,d=of(a,c);return{fc:function(){return(b.I()||y).hash()},S:function(b){if("ok"===b){if(d){var f=c.path;if(b=ef(a,d)){var g=ff(b);b=g.path;g=g.ab;f=H(b,f);f=new Se(new We(!1,!0,g,!0),f);b=gf(a,b,f)}else b=[]}else b=$e(a,new Se(Xe,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+": "+f);f.code=b.toUpperCase();return a.Sa(c,null,f)}}}function jf(a){return a.path.toString()+"$"+a.ra()}function ff(a){var b=a.indexOf("$");B(-1!==b&&b<a.length-1,"Bad queryKey.");return{ab:a.substr(b+1),path:new E(a.substr(0,b))}}function ef(a,b){var c=a.A,d="_"+b;return null!==c&&d in c?c[d]:void 0}function of(a,b){var c=jf(b);return v(a.m,c)}var kf=1;
function gf(a,b,c){var d=a.f.get(b);B(d,"Missing sync point for query tag that we're tracking");return d.Ma(c,new od(b,a.g),null)}function $e(a,b){return qf(a,b,a.f,null,new od(L,a.g))}function qf(a,b,c,d,e){if(b.path.j())return rf(a,b,c,d,e);var f=c.get(L);null==d&&null!=f&&(d=f.Pa(L));var g=[],k=J(b.path),l=b.Pb(k);if((c=c.children.get(k))&&l)var m=d?d.P(k):null,k=e.C(k),g=g.concat(qf(a,l,c,m,k));f&&(g=g.concat(f.Ma(b,e,d)));return g}
function rf(a,b,c,d,e){var f=c.get(L);null==d&&null!=f&&(d=f.Pa(L));var g=[];c.children.ka(function(c,f){var m=d?d.P(c):null,u=e.C(c),z=b.Pb(c);z&&(g=g.concat(rf(a,z,f,m,u)))});f&&(g=g.concat(f.Ma(b,e,d)));return g};function hc(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function R(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function S(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function T(a,b,c,d){if((!d||p(c))&&!fa(c))throw Error(S(a,b,d)+"must be a valid function.");}function sf(a,b,c){if(p(c)&&(!ga(c)||null===c))throw Error(S(a,b,!0)+"must be a valid context object.");};var tf=/[\[\].#$\/\u0000-\u001F\u007F]/,uf=/[\[\].#$\u0000-\u001F\u007F]/;function vf(a){return q(a)&&0!==a.length&&!tf.test(a)}function wf(a){return null===a||q(a)||ea(a)&&!Db(a)||ga(a)&&t(a,".sv")}function xf(a,b,c,d){d&&!p(b)||yf(S(a,1,d),b,c)}
function yf(a,b,c){c instanceof E&&(c=new gc(c,a));if(!p(b))throw Error(a+"contains undefined "+jc(c));if(fa(b))throw Error(a+"contains a function "+jc(c)+" with contents: "+b.toString());if(Db(b))throw Error(a+"contains "+b.toString()+" "+jc(c));if(q(b)&&b.length>10485760/3&&10485760<hc(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+jc(c)+" ('"+b.substring(0,50)+"...')");if(ga(b)){var d=!1,e=!1;ma(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!vf(b)))throw Error(a+" contains an invalid key ("+b+") "+jc(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);yf(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+jc(c)+" in addition to actual children.");}}
function zf(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!vf(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(E.f);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function Af(a,b,c){var d=S(a,1,!1);if(!ga(b)||da(b))throw Error(d+" must be an Object containing the children to replace.");if(t(b,".value"))throw Error(d+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');var e=[];ma(b,function(a,b){var k=new E(a);yf(d,b,c.C(k));if(".priority"===fc(k)&&!wf(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});
zf(d,e)}function Bf(a,b,c){if(Db(c))throw Error(S(a,b,!1)+"is "+c.toString()+", but must be a valid Wilddog priority (a string, finite number, server value, or null).");if(!wf(c))throw Error(S(a,b,!1)+"must be a valid Wilddog priority (a string, finite number, server value, or null).");}
function Cf(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(S(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function Df(a,b,c,d){if((!d||p(c))&&!vf(c))throw Error(S(a,b,d)+'was an invalid key: "'+c+'".  Wilddog keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function Ef(a,b){if(!q(b)||0===b.length||uf.test(b))throw Error(S(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function Ff(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/");}function Gf(a,b){if(!q(b))throw Error(S(a,1,!1)+"must be a valid credential (a string).");}function Hf(a,b,c){if(!q(c))throw Error(S(a,b,!1)+"must be a valid string.");}
function If(a,b,c,d){if(!d||p(c))if(!ga(c)||null===c)throw Error(S(a,b,d)+"must be a valid object.");}function Jf(a,b,c){if(!ga(b)||null===b||!t(b,c))throw Error(S(a,1,!1)+'must contain the key "'+c+'"');if(!q(v(b,c)))throw Error(S(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function P(a,b,c){this.f=a;this.g=b;this.w=c}P.prototype.N=function(){R("Wilddog.DataSnapshot.val",0,0,arguments.length);return this.f.N()};P.prototype.val=P.prototype.N;P.prototype.hd=function(){R("Wilddog.DataSnapshot.exportVal",0,0,arguments.length);return this.f.N(!0)};P.prototype.exportVal=P.prototype.hd;P.prototype.m=function(){R("Wilddog.DataSnapshot.exists",0,0,arguments.length);return!this.f.j()};P.prototype.exists=P.prototype.m;
P.prototype.C=function(a){R("Wilddog.DataSnapshot.child",0,1,arguments.length);ea(a)&&(a=String(a));Ef("Wilddog.DataSnapshot.child",a);var b=new E(a),c=this.g.C(b);return new P(this.f.ja(b),c,G)};P.prototype.child=P.prototype.C;P.prototype.wa=function(a){R("Wilddog.DataSnapshot.hasChild",1,1,arguments.length);Ef("Wilddog.DataSnapshot.hasChild",a);var b=new E(a);return!this.f.ja(b).j()};P.prototype.hasChild=P.prototype.wa;
P.prototype.J=function(){R("Wilddog.DataSnapshot.getPriority",0,0,arguments.length);return this.f.J().N()};P.prototype.getPriority=P.prototype.J;P.prototype.o=function(a){R("Wilddog.DataSnapshot.forEach",1,1,arguments.length);T("Wilddog.DataSnapshot.forEach",1,a,!1);if(this.f.R())return!1;var b=this;return!!this.f.X(this.w,function(c,d){return a(new P(d,b.g.C(c),G))})};P.prototype.forEach=P.prototype.o;
P.prototype.ec=function(){R("Wilddog.DataSnapshot.hasChildren",0,0,arguments.length);return this.f.R()?!1:!this.f.j()};P.prototype.hasChildren=P.prototype.ec;P.prototype.name=function(){C("Wilddog.DataSnapshot.name() being deprecated. Please use Wilddog.DataSnapshot.key() instead.");R("Wilddog.DataSnapshot.name",0,0,arguments.length);return this.key()};P.prototype.name=P.prototype.name;P.prototype.key=function(){R("Wilddog.DataSnapshot.key",0,0,arguments.length);return this.g.key()};
P.prototype.key=P.prototype.key;P.prototype.Ra=function(){R("Wilddog.DataSnapshot.numChildren",0,0,arguments.length);return this.f.Ra()};P.prototype.numChildren=P.prototype.Ra;P.prototype.yb=function(){R("Wilddog.DataSnapshot.ref",0,0,arguments.length);return this.g};P.prototype.ref=P.prototype.yb;function Kf(){this.set={}}h=Kf.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return t(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.j=function(){return bb(this.set)};h.count=function(){return Ua(this.set)};function Lf(a,b){A(a.set,function(a,d){b(d,a)})};function ac(){this.D=this.K=null}ac.prototype.find=function(a){if(null!=this.K)return this.K.ja(a);if(a.j()||null==this.D)return null;var b=J(a);a=K(a);return this.D.contains(b)?this.D.get(b).find(a):null};ac.prototype.zb=function(a,b){if(a.j())this.K=b,this.D=null;else if(null!==this.K)this.K=this.K.M(a,b);else{null==this.D&&(this.D=new Kf);var c=J(a);this.D.contains(c)||this.D.add(c,new ac);c=this.D.get(c);a=K(a);c.zb(a,b)}};
function Mf(a,b){if(b.j())return a.K=null,a.D=null,!0;if(null!==a.K){if(a.K.R())return!1;var c=a.K;a.K=null;c.X(G,function(b,c){a.zb(new E(b),c)});return Mf(a,b)}return null!==a.D?(c=J(b),b=K(b),a.D.contains(c)&&Mf(a.D.get(c),b)&&a.D.remove(c),a.D.j()?(a.D=null,!0):!1):!0}function bc(a,b,c){null!==a.K?c(b,a.K):a.X(function(a,e){var f=new E(b.toString()+"/"+a);bc(e,f,c)})}ac.prototype.X=function(a){null!==this.D&&Lf(this.D,function(b,c){a(b,c)})};var Nf="auth.wilddog.com";function Of(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function Pf(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function Qf(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function Rf(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function Sf(a){var b="";try{a=a.replace("#","");var c=Ca(a);c&&t(c,"__wilddog_request_key")&&(b=v(c,"__wilddog_request_key"))}catch(d){}return b}function Tf(){var a=Cb(Nf);return a.scheme+"://"+a.host+"/v1"}function Uf(a){return Tf()+"/"+a+"/auth/channel"};function Vf(){this.f=la()+la()+la()}Vf.prototype.open=function(a,b){x.set("redirect_request_id",this.f);x.set("redirect_request_id",this.f);b.requestId=this.f;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Aa(b);window.location=a};Vf.isAvailable=function(){return!NODE_CLIENT&&!Wf()&&!Xf()};Vf.prototype.Ib=function(){return"redirect"};function Yf(a){var b={},c={},d={},e="";try{var f=a.split("."),b=qa(sb(f[0])||""),c=qa(sb(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{xe:b,Vb:c,data:d,ze:e}}function Zf(a){a=Yf(a).Vb;return"object"===typeof a&&a.hasOwnProperty("iat")?v(a,"iat"):null};function $f(a,b){this.g=["session",a.jc,a.wb].join(":");this.f=b}$f.prototype.set=function(a,b){if(!b)if(this.f.length)b=this.f[0];else throw Error("wd.login.SessionManager : No storage options available!");b.set(this.g,a)};$f.prototype.get=function(){var a=Ka(this.f,r(this.m,this)),a=Ja(a,function(a){return null!==a});Qa(a,function(a,c){return Zf(c.token)-Zf(a.token)});return 0<a.length?a.shift():null};$f.prototype.m=function(a){try{var b=a.get(this.g);if(b&&b.token)return b}catch(c){}return null};
function ag(a){Ba(a.f,function(b){b.remove(a.g)})};function Xf(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function Wf(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function bg(){if("undefined"===typeof navigator)return!1;var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};var cg={NETWORK_ERROR:"Unable to contact the Wilddog server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function dg(a){var b=Error(v(cg,a),a);b.code=a;return b};function eg(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.f=a}
eg.prototype.open=function(a,b,c){function d(){c&&(c(dg("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.f.method.toUpperCase(),g;Pf(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=qa(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(dg("SERVER_ERROR")):c(dg("NETWORK_ERROR"));c=null;Qf(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Aa(b),g=null;else{var k=this.f.headers.content_type;
"application/json"===k&&(g=w(b));"application/x-www-form-urlencoded"===k&&(g=Aa(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};eb(a,this.f.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};eg.isAvailable=function(){return!NODE_CLIENT&&!!window.XMLHttpRequest&&(!("undefined"!==typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)))||bg())};eg.prototype.Ib=function(){return"json"};function fg(a,b,c){this.Wb=a||{};this.rc=b||{};this.Ka=c||{};this.Wb.remember||(this.Wb.remember="default")}var gg=["remember","redirectTo"];function hg(a){var b={},c={};ma(a||{},function(a,e){0<=Ia(gg,a)?b[a]=e:c[a]=e});return new fg(b,{},c)};function ig(a){this.f=la()+la()+la();this.g=a}
ig.prototype.open=function(a,b,c){function d(){c&&(c(dg("USER_CANCELLED")),c=null)}var e=this,f=Cb(Nf),g;b.requestId=this.f;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=Aa(b);(g=window.open(a,"_blank","location=no"))&&fa(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var m=document.createElement("a");m.href=a.url;b=m.host===f.host&&"/blank/page.html"===m.pathname;break a}catch(u){}b=!1}b&&(a=Sf(a.url),g.removeEventListener("exit",
d),g.close(),a=new fg(null,null,{requestId:e.f,requestKey:a}),e.g.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(dg("TRANSPORT_UNAVAILABLE"))};ig.isAvailable=function(){return!NODE_CLIENT&&Xf()};ig.prototype.Ib=function(){return"redirect"};function jg(a){B(da(a)&&0<a.length,"Requires a non-empty array");this.sa=a;this.m={}}jg.prototype.A=function(a,b){for(var c=this.m[a]||[],d=0;d<c.length;d++)c[d].Hb.apply(c[d].context,Array.prototype.slice.call(arguments,1))};jg.prototype.$a=function(a,b,c){kg(this,a);this.m[a]=this.m[a]||[];this.m[a].push({Hb:b,context:c});(a=this.Lc(a))&&b.apply(c,a)};jg.prototype.xb=function(a,b,c){kg(this,a);a=this.m[a]||[];for(var d=0;d<a.length;d++)if(a[d].Hb===b&&(!c||c===a[d].context)){a.splice(d,1);break}};
function kg(a,b){B(Na(a.sa,function(a){return a===b}),"Unknown event: "+b)};function lg(a){a.callback_parameter||(a.callback_parameter="callback");this.f=a;window.__wilddog_auth_jsonp=window.__wilddog_auth_jsonp||{}}
lg.prototype.open=function(a,b,c){function d(){c&&(c(dg("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__wilddog_auth_jsonp[f]=void 0;bb(window.__wilddog_auth_jsonp)&&(window.__wilddog_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);Qf(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.f.callback_parameter]="__wilddog_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+Aa(b);Pf(window,
"beforeunload",d);window.__wilddog_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};mg(f,a,c)};
function mg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(dg("NETWORK_ERROR"))};var e,f=document.getElementsByTagName("head");f&&0!=f.length?e=f[0]:e=document.documentElement;e.appendChild(d)}catch(g){c&&c(dg("NETWORK_ERROR"))}},0)}lg.isAvailable=function(){return!NODE_CLIENT};lg.prototype.Ib=function(){return"json"};function ng(a){if(!a.window_features||"undefined"!==typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))a.window_features=void 0;a.window_name||(a.window_name="_blank");this.f=a}
ng.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);u&&(u=clearInterval(u));Qf(window,"message",e);Qf(window,"unload",d);if(m&&!a)try{m.close()}catch(b){k.postMessage("die",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=qa(a.data);"ready"===b.a?k.postMessage(z,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=bg(),g,k;if(!this.f.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var l=Rf(a);if(l!==Rf(this.f.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.f.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Aa(b);var m=window.open(a,this.f.window_name,this.f.window_features);k||(k=m);var u=setInterval(function(){m&&m.closed&&(d(!1),c&&(c(dg("USER_CANCELLED")),
c=null))},500),z=w({a:"request",d:b});Pf(window,"unload",d);Pf(window,"message",e)}};
ng.isAvailable=function(){return!NODE_CLIENT&&"postMessage"in window&&!Wf()&&!(Xf()||"undefined"!==typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!==typeof navigator&&"undefined"!==typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&
!("undefined"!==typeof navigator&&navigator.userAgent.match(/PhantomJS/))};ng.prototype.Ib=function(){return"popup"};function og(a,b,c,d){jg.call(this,["auth_status"]);this.o=a;this.T=b;this.ha=c;this.ta=d;this.g=new $f(a,[ta,x]);this.f=null;this.H=!1;pg(this)}ka(og,jg);h=og.prototype;h.Jc=function(){return this.f||null};function pg(a){x.get("redirect_request_id")&&qg(a);var b=a.g.get();b&&b.token?(rg(a,b),a.T(b.token,function(c,d){sg(a,c,d,!1,b.token,b)},function(b,d){tg(a,"resumeSession()",b,d)})):rg(a,null)}
function ug(a,b,c,d,e,f){"wilddogio-demo.com"===a.o.domain&&C("Wilddog authentication is not supported on demo Wilddogs (*.wilddogio-demo.com). To secure your Wilddog, create a production Wilddog at https://www.wilddog.com.");a.T(b,function(f,k){sg(a,f,k,!0,b,c,d||{},e)},function(b,c){tg(a,"auth()",b,c,f)})}function vg(a,b){ag(a.g);rg(a,null);a.ha(function(a,d){if("ok"===a)D(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;D(b,f)}})}
function sg(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=e,c=null,b&&t(b,"uid")?c=v(b,"uid"):t(f,"uid")&&(c=v(f,"uid")),f.uid=c,c="custom",b&&t(b,"provider")?c=v(b,"provider"):t(f,"provider")&&(c=v(f,"provider")),f.provider=c,ag(a.g),g=g||{},c=ta,"sessionOnly"===g.remember&&(c=x),"none"!==g.remember&&a.g.set(f,c),rg(a,f)),D(k,null,f)):(ag(a.g),rg(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,D(k,f))}
function tg(a,b,c,d,e){C(b+" was canceled: "+d);ag(a.g);rg(a,null);a=Error(d);a.code=c.toUpperCase();D(e,a)}function wg(a,b,c,d,e){xg(a);c=new fg(d||{},{},c||{});yg(a,[eg,lg],"/auth/"+b,c,e)}
function zg(a,b,c,d){xg(a);var e=[ng,ig];c=hg(c);"anonymous"===b||"password"===b?setTimeout(function(){D(d,dg("TRANSPORT_UNAVAILABLE"))},0):(c.rc.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.rc.relay_url=Uf(a.o.wb),c.rc.requestWithCredential=r(a.Ab,a),yg(a,e,"/auth/"+b,c,d))}
function qg(a){var b=x.get("redirect_request_id");if(b){var c=x.get("redirect_client_options");x.remove("redirect_request_id");x.remove("redirect_client_options");var d=[eg,lg],b={requestId:b,requestKey:Sf(document.location.hash)},c=new fg(c,{},b);a.H=!0;try{document.location.hash=document.location.hash.replace(/&__wilddog_request_key=([a-zA-z0-9]*)/,"")}catch(e){}yg(a,d,"/auth/session",c,function(){this.H=!1}.bind(a))}}
h.Fc=function(a,b){xg(this);var c=hg(a);c.Ka._method="POST";this.Ab("/users",c,function(a,c){a?D(b,a):D(b,a,c)})};h.Uc=function(a,b){var c=this;xg(this);var d="/users/"+encodeURIComponent(a.email),e=hg(a);e.Ka._method="DELETE";this.Ab(d,e,function(a,d){!a&&d&&d.uid&&c.f&&c.f.uid&&c.f.uid===d.uid&&vg(c);D(b,a)})};h.Cc=function(a,b){xg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=hg(a);d.Ka._method="PUT";d.Ka.password=a.newPassword;this.Ab(c,d,function(a){D(b,a)})};
h.Bc=function(a,b){xg(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=hg(a);d.Ka._method="PUT";d.Ka.email=a.newEmail;d.Ka.password=a.password;this.Ab(c,d,function(a){D(b,a)})};h.Wc=function(a,b){xg(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=hg(a);d.Ka._method="POST";this.Ab(c,d,function(a){D(b,a)})};h.Ab=function(a,b,c){Ag(this,[eg,lg],a,b,c)};
function yg(a,b,c,d,e){Ag(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?ug(a,c.token,c,d.Wb,function(a,b){a?D(e,a):D(e,null,b)}):D(e,b||dg("UNKNOWN_ERROR"))})}
function Ag(a,b,c,d,e){b=Ja(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){D(e,dg("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.rc),d=na(d.Ka),d.v=(NODE_CLIENT?"node-":"js-")+CLIENT_VERSION,d.transport=b.Ib(),d.suppress_status_codes=!0,a=Tf()+"/"+a.o.wb+c,b.open(a,d,function(a,b){if(a)D(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;D(e,c)}else D(e,null,b)}))}
function rg(a,b){var c=null!==a.f||null!==b;a.f=b;c&&a.A("auth_status",b);a.ta(null!==b)}h.Lc=function(a){B("auth_status"===a,'initial event must be of type "auth_status"');return this.H?null:[this.f]};function xg(a){var b=a.o;if("wilddogio.com"!==b.domain&&"wilddogio-demo.com"!==b.domain&&"auth.wilddog.com"===Nf)throw Error("This custom Wilddog server ('"+a.o.domain+"') does not support delegated login.");};function Bg(a,b){this.f=zb("p:rest:");this.g=a;this.m=b;this.o=null;this.ea={}}function Cg(a,b){if(p(b))return"tag$"+b;var c=a.G;B(Ae(c)&&c.w==G,"should have a tag if it's not a default query.");return a.path.toString()}h=Bg.prototype;
h.od=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.ra());var f=Cg(a,c),g={};this.ea[f]=g;a=Dg(a.G);var k=this;Eg(this,e+".json",a,function(a,b){var u=b;404===a&&(a=u=null);null===a&&k.m(e,u,!1,c);v(k.ea,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.vd=function(a,b){var c=Cg(a,b);delete this.ea[c]};h.V=function(a,b){this.o=a;var c=Yf(a),d=c.data,c=c.Vb&&c.Vb.exp;b&&b("ok",{auth:d,expires:c})};h.sc=function(a){this.o=null;a("ok",null)};h.Tc=function(){};
h.qd=function(){};h.hc=function(){};h.Db=function(){};h.pd=function(){};h.Vc=function(){};
function Eg(a,b,c,d){c=c||{};c.format="export";a.o&&(c.auth=a.o);var e=(a.g.bb?"https://":"http://")+a.g.host+b+"?"+Aa(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=qa(f.responseText)}catch(c){C("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==f.status&&
C("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};var Fg={};window.navigator.userAgent="react-native";var Gg=global.eio;function Hg(a,b,c,d,e){this.T=a;this.m=zb("c:"+this.T+":");this.ha=c;this.H=d;this.A=e;this.f=b;this.o=0;this.m("Connection created");this.g=Ig(this);this.g.on("open",Jg(this));this.g.on("error",Kg(this))}function Jg(a){return function(){a.g.on("message",Lg(a));a.g.on("close",Mg(a))}}
function Lg(a){return function(b){if(null==b)throw Error("data is null");if(0!=b.charAt(0))if(2==b.charAt(0)){var c=null;try{c=JSON.parse(b.substr(1))}catch(f){throw f;}if("object"!=typeof c||2>c.length)throw Error("decodedData in wrong format");b=c[1];if("wd"==c[0])if("c"==b.t)if(c=b.d,"h"==c.t){b=c.d;var c=b.ts,d=b.v,e=b.h;a.sessionId=b.s;"1.0"!=d&&C("Protocol version mismatch detected");0==a.o&&(e!=a.f.Aa?(lb(a.f,e),a.m("updateHost ",e),a.g.close(),a.g=Ig(a),a.g.on("open",Jg(a)),a.g.on("error",
Kg(a))):(a.o=1,a.m("realtime state connected"),b=a.f,d=b.Oa.indexOf(a.f.Aa),0<=d&&(b.Oa.splice(d,1),x.set("failHosts",JSON.stringify(b.Oa))),a.H&&(a.H(c),a.H=null)))}else"r"==c.t&&(c=c.d,a.m("Reset packet received.  New host: "+c),lb(a.f,c),a.close());else"d"==b.t&&a.ha(b.d);else a.m("eventType not known")}else 1!=b.charAt(0)&&a.m("data format error")}}function Mg(a){return function(){2!==a.o&&(a.m("Closing realtime connection."),a.o=2,a.A&&(a.A(),a.A=null))}}
function Kg(a){return function(b){if(0==a.o){var c=a.f.Aa,d=a.f;null!=c&&0>d.Oa.indexOf(c)&&c!=d.host&&(d.Oa.push(c),x.set("failHosts",JSON.stringify(d.Oa)));a.m("error while connecting",b,c);lb(a.f)}a.close()}}
function Ig(a){var b=(a.f.bb?"https://":"http://")+a.f.Aa+"?v=1.0&cv="+CLIENT_VERSION,c=a.f;c.host!==c.Aa&&(b=b+"&ns="+a.f.wb);a.sessionId&&(b=b+"&s="+a.sessionId);0<a.f.Oa.length&&(b=b+"&fst="+encodeURIComponent(a.f.Oa.join(",")));a={path:"/.ws",rememberUpgrade:!0};"undefined"==typeof document&&(a.jsonp=!1);return Gg(b,a)}Hg.prototype.xa=function(a){a="2"+JSON.stringify(["wd",{t:"d",d:a}]);this.g.send(a)};
Hg.prototype.close=function(){2!==this.o&&(this.m("Closing realtime connection."),this.o=2,this.g.close(),this.A&&(this.A(),this.A=null))};function Ng(){jg.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.ha=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.ha&&(c.ha=b,c.A("visible",b))},!1)}}ka(Ng,jg);Ng.prototype.Lc=function(a){B("visible"===a,"Unknown event type: "+a);return[this.ha]};ba(Ng);function Og(){jg.call(this,["online"]);this.f=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.f||(a.f=!0,a.A("online",!0))},!1);window.addEventListener("offline",function(){a.f&&(a.f=!1,a.A("online",!1))},!1)}}ka(Og,jg);Og.prototype.Lc=function(a){B("online"===a,"Unknown event type: "+a);return[this.f]};ba(Og);function Pg(a,b,c,d){this.yc=Qg++;this.f=zb("p:"+this.yc+":");this.wc=!1;this.ea={};this.m=[];this.Ha=0;this.ta=[];this.g=!1;this.H=1E3;this.hb=3E5;this.ed=b;this.dd=c;this.Ed=d;this.Fd=a;this.Zc=null;this.Sb={};this.Cd=0;this.sa=this.xc=null;Rg(this,0);Ng.Va().$a("visible",this.ce,this);-1===a.host.indexOf("wd.local")&&Og.Va().$a("online",this.be,this)}var Qg=0,Sg=0;h=Pg.prototype;
h.xa=function(a,b,c){var d=++this.Cd;a={r:d,a:a,b:b};this.f(w(a));B(this.g,"sendRequest call when we're not connected not allowed.");this.A.xa(a);c&&(this.Sb[d]=c)};h.od=function(a,b,c,d){var e=a.ra(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.ea[f]=this.ea[f]||{};B(!this.ea[f][e],"listen() called twice for same path/queryId.");a={S:d,fc:b,de:a,tag:c};this.ea[f][e]=a;this.g&&Tg(this,a)};
function Tg(a,b){var c=b.de,d=c.path.toString(),e=c.ra();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ug(c.G),f.t=b.tag);f.h=b.fc();a.xa("q",f,function(f){var k=f.d,l=f.s;if(k&&"object"===typeof k&&t(k,"w")){var m=v(k,"w");da(m)&&0<=Ia(m,"no_index")&&C("Using an unspecified index. Consider adding "+('".indexOn": "'+c.G.W().toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.ea[d]&&a.ea[d][e])===b&&(a.f("listen response",f),"ok"!==l&&Vg(a,d,e),b.S&&
b.S(l,k))})}h.V=function(a,b,c){this.o={Pd:a,jd:!1,Hb:b,Ub:c};this.f("Authenticating using credential: "+a);Wg(this);(b=40==a.length)||(a=Yf(a).Vb,b="object"===typeof a&&!0===v(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.hb=3E4)};h.sc=function(a){delete this.o;this.g&&this.xa("unauth",{},function(b){a(b.s,b.d)})};
function Wg(a){var b=a.o;a.g&&b&&a.xa("auth",{cred:b.Pd},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.o===b&&delete a.o;b.jd?"ok"!==d&&b.Ub&&b.Ub(d,c):(b.jd=!0,b.Hb&&b.Hb(d,c))})}h.vd=function(a,b){var c=a.path.toString(),d=a.ra();this.f("Unlisten called for "+c+" "+d);if(Vg(this,c,d)&&this.g){var e=Ug(a.G);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.xa("n",c)}};h.Tc=function(a,b,c){this.g?Xg(this,"o",a,b,c):this.ta.push({Qb:a,action:"o",data:b,S:c})};
h.qd=function(a,b,c){this.g?Xg(this,"om",a,b,c):this.ta.push({Qb:a,action:"om",data:b,S:c})};h.hc=function(a,b){this.g?Xg(this,"oc",a,null,b):this.ta.push({Qb:a,action:"oc",data:null,S:b})};function Xg(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.xa(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.Db=function(a,b,c,d){Yg(this,"p",a,b,c,d)};h.pd=function(a,b,c,d){Yg(this,"m",a,b,c,d)};
function Yg(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.m.push({action:b,request:d,S:e});a.Ha++;b=a.m.length-1;a.g?Zg(a,b):a.f("Buffering put: "+c)}function Zg(a,b){var c=a.m[b].action,d=a.m[b].request,e=a.m[b].S;a.m[b].ee=a.g;a.xa(c,d,function(d){a.f(c+" response",d);delete a.m[b];a.Ha--;0===a.Ha&&(a.m=[]);e&&e(d.s,d.d)})}h.Vc=function(a){if(this.g){a={c:a};this.f("reportStats",a);var b=this;this.xa("s",a,function(a){"ok"!==a.s&&b.f("reportStats","Error sending stats: "+a.d)})}};
h.$d=function(a){if("r"in a){this.f("from server: "+w(a));var b=a.r,c=this.Sb[b];c&&(delete this.Sb[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.ed(c.p,c.d,!1,c.t):"m"===b?this.ed(c.p,c.d,!0,c.t):"c"===b?$g(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.o,delete this.o,c&&c.Ub&&c.Ub(a,b)):"sd"===b?this.Zc?this.Zc(c):"msg"in c&&"undefined"!==typeof console&&console.log("WILDDOG: "+c.msg.replace("\n",
"\nWILDDOG: ")):Ab("Unrecognized action received from server: "+w(b)+"\nAre you using the latest client?"))}};h.ne=function(a){this.f("connection ready");this.g=!0;this.sa=(new Date).getTime();this.Ed({serverTimeOffset:a-(new Date).getTime()});a={};a["sdk.js."+CLIENT_VERSION.replace(/\./g,"-")]=1;Xf()&&(a["framework.cordova"]=1);this.Vc(a);ah(this);this.dd(!0)};
function Rg(a,b){B(!a.A,"Scheduling a connect when we're already connected/ing?");a.T&&clearTimeout(a.T);a.T=setTimeout(function(){a.T=null;if(bh(a)){a.f("Making a connection attempt");a.xc=(new Date).getTime();a.sa=null;var b=r(a.$d,a),d=r(a.ne,a),e=r(a.rd,a),f=a.yc+":"+Sg++;a.A=new Hg(f,a.Fd,b,d,e)}},Math.floor(b))}h.ce=function(a){a&&!this.ha&&this.H===this.hb&&(this.f("Window became visible.  Reducing delay."),this.H=1E3,this.A||Rg(this,0));this.ha=a};
h.be=function(a){a?(this.f("Browser went online."),this.H=1E3,this.A||Rg(this,0)):(this.f("Browser went offline.  Killing connection."),this.A&&this.A.close())};
h.rd=function(){this.f("data client disconnected");this.g=!1;this.A=null;for(var a=0;a<this.m.length;a++){var b=this.m[a];b&&"h"in b.request&&b.ee&&(b.S&&b.S("disconnect"),delete this.m[a],this.Ha--)}0===this.Ha&&(this.m=[]);this.Sb={};bh(this)&&(this.ha?this.sa&&(3E4<(new Date).getTime()-this.sa&&(this.H=1E3),this.sa=null):(this.f("Window isn't visible.  Delaying reconnect."),this.H=this.hb,this.xc=(new Date).getTime()),a=Math.max(0,this.H-((new Date).getTime()-this.xc)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Rg(this,a),this.H=Math.min(this.hb,1.3*this.H));this.dd(!1)};h.Za=function(){this.wc=!0;this.A?this.A.close():(this.T&&(clearTimeout(this.T),this.T=null),this.g&&this.rd())};h.Bb=function(){this.wc=!1;this.H=1E3;this.A||Rg(this,0)};function $g(a,b,c){c=c?Ka(c,function(a){return Gb(a)}).join("$"):"default";(a=Vg(a,b,c))&&a.S&&a.S("permission_denied")}
function Vg(a,b,c){b=(new E(b)).toString();var d;p(a.ea[b])?(d=a.ea[b][c],delete a.ea[b][c],0===Ua(a.ea[b])&&delete a.ea[b]):d=void 0;return d}function ah(a){Wg(a);A(a.ea,function(b){A(b,function(b){Tg(a,b)})});for(var b=0;b<a.m.length;b++)a.m[b]&&Zg(a,b);for(;a.ta.length;)b=a.ta.shift(),Xg(a,b.action,b.Qb,b.data,b.S)}function bh(a){var b;b=Og.Va().f;return!a.wc&&b};function ch(a,b){this.H=a;this.ta=Rb(a);this.g=new Tb;this.ha=1;this.Ga=null;this.m;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.m=new Bg(this.H,r(this.xd,this)),setTimeout(r(this.wd,this,!0),0)):this.m=this.Ga=new Pg(this.H,r(this.xd,this),r(this.wd,this),r(this.pe,this));this.hb=Sb(a,r(function(){return new Mb(this.ta,this.m)},this));this.o=new lc;this.Ha=
new Da;var c=this;this.T=new Ye({$c:function(a,b,f,g){b=[];f=c.Ha.u(a.path);f.j()||(b=$e(c.T,new Qe(Xe,a.path,f)),setTimeout(function(){g("ok")},0));return b},qc:aa});dh(this,"connected",!1);this.A=new ac;this.V=new og(a,r(this.m.V,this.m),r(this.m.sc,this.m),r(this.oe,this));this.$b=0;this.Oc=null;this.f=new Ye({$c:function(a,b,f,g){c.m.od(a,f,b,function(b,e){var f=g(b,e);Yb(c.g,a.path,f)});return[]},qc:function(a,b){c.m.vd(a,b)}})}h=ch.prototype;
h.toString=function(){return(this.H.bb?"https://":"http://")+this.H.host};h.name=function(){return this.H.wb};function eh(a){a=a.Ha.u(new E(".info/serverTimeOffset")).N()||0;return(new Date).getTime()+a}function fh(a){a=a={timestamp:eh(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.xd=function(a,b,c,d){this.$b++;var e=new E(a);b=this.Oc?this.Oc(a,b):b;a=[];d?c?(b=Sa(b,function(a){return F(a)}),a=hf(this.f,e,b,d)):(b=F(b),a=df(this.f,e,b,d)):c?(d=Sa(b,function(a){return F(a)}),a=cf(this.f,e,d)):(d=F(b),a=$e(this.f,new Qe(Xe,e,d)));d=e;0<a.length&&(d=gh(this,e));Yb(this.g,d,a)};h.wd=function(a){dh(this,"connected",a);!1===a&&hh(this)};h.pe=function(a){var b=this;Hb(a,function(a,d){dh(b,d,a)})};h.oe=function(a){dh(this,"authenticated",a)};
function dh(a,b,c){b=new E("/.info/"+b);c=F(c);var d=a.Ha;d.nc=d.nc.M(b,c);c=$e(a.T,new Qe(Xe,b,c));Yb(a.g,b,c)}h.cb=function(a,b,c,d){this.Rb("set",{path:a.toString(),value:b,ye:c});var e=fh(this);b=F(b,c);var e=cc(b,e),f=this.ha++,e=Ze(this.f,a,e,f,!0);Ub(this.g,e);var g=this;this.m.Db(a.toString(),b.N(!0),function(b,c){var e="ok"===b;e||C("set at "+a+" failed: "+b);e=bf(g.f,f,!e);Yb(g.g,a,e);ih(d,b,c)});e=jh(this,a);gh(this,e);Yb(this.g,e,[])};
h.update=function(a,b,c){this.Rb("update",{path:a.toString(),value:b});var d=!0,e=fh(this),f={};A(b,function(a,b){d=!1;var c=F(a);f[b]=cc(c,e)});if(d)tb("update() called with empty data.  Don't do anything."),ih(c,"ok");else{var g=this.ha++,k=af(this.f,a,f,g);Ub(this.g,k);var l=this;this.m.pd(a.toString(),b,function(b,d){var e="ok"===b;e||C("update at "+a+" failed: "+b);var e=bf(l.f,g,!e),f=a;0<e.length&&(f=gh(l,a));Yb(l.g,f,e);ih(c,b,d)});b=jh(this,a);gh(this,b);Yb(this.g,a,[])}};
function hh(a){a.Rb("onDisconnectEvents");var b=fh(a),c=[];bc($b(a.A,b),L,function(b,e){c=c.concat($e(a.f,new Qe(Xe,b,e)));var f=jh(a,b);gh(a,f)});a.A=new ac;Yb(a.g,L,c)}h.hc=function(a,b){var c=this;this.m.hc(a.toString(),function(d,e){"ok"===d&&Mf(c.A,a);ih(b,d,e)})};function kh(a,b,c,d){var e=F(c);a.m.Tc(b.toString(),e.N(!0),function(c,g){"ok"===c&&a.A.zb(b,e);ih(d,c,g)})}function lh(a,b,c,d,e){var f=F(c,d);a.m.Tc(b.toString(),f.N(!0),function(c,d){"ok"===c&&a.A.zb(b,f);ih(e,c,d)})}
function mh(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(tb("onDisconnect().update() called with empty data.  Don't do anything."),ih(d,"ok")):a.m.qd(b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var m=F(c[l]);a.A.zb(b.C(l),m)}ih(d,e,f)})}function nh(a,b,c){c=".info"===J(b.path)?a.T.ib(b,c):a.f.ib(b,c);Wb(a.g,b.path,c)}h.Za=function(){this.Ga&&this.Ga.Za()};h.Bb=function(){this.Ga&&this.Ga.Bb()};
h.ad=function(a){if("undefined"!==typeof console){a?(this.sa||(this.sa=new Nb(this.ta)),a=this.sa.get()):a=this.ta.get();var b=La(Xa(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.bd=function(a){var b=this.ta,c;p(c)||(c=1);t(b.f,a)||(b.f[a]=0);b.f[a]+=c;this.hb.ud[a]=!0};h.Rb=function(a){var b="";this.Ga&&(b=this.Ga.yc+":");tb(b,arguments)};
function ih(a,b,c){a&&Kb(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function oh(a){n.setTimeout(function(){throw a;},0)}var ph;
function qh(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==Ea.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=r(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Ea.indexOf("Trident")&&-1==Ea.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Na;c.Na=null;a()}};return function(a){d.next={Na:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function rh(a,b,c){this.da=c;this.m=a;this.o=b;this.g=0;this.f=null}rh.prototype.get=function(){var a;0<this.g?(this.g--,a=this.f,this.f=a.next,a.next=null):a=this.m();return a};function sh(a,b){a.o(b);a.g<a.da&&(a.g++,b.next=a.f,a.f=b)};function th(){this.g=this.f=null}var vh=new rh(function(){return new uh},function(a){a.reset()},100);th.prototype.add=function(a,b){var c=vh.get();c.set(a,b);this.g?this.g.next=c:this.f=c;this.g=c};th.prototype.remove=function(){var a=null;this.f&&(a=this.f,this.f=this.f.next,this.f||(this.g=null),a.next=null);return a};function uh(){this.next=this.g=this.f=null}uh.prototype.set=function(a,b){this.f=a;this.g=b;this.next=null};uh.prototype.reset=function(){this.next=this.g=this.f=null};function wh(a,b){xh||yh();zh||(xh(),zh=!0);Ah.add(a,b)}var xh;function yh(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve(void 0);xh=function(){a.then(Bh)}}else xh=function(){var a=Bh,c;!(c=!fa(n.setImmediate))&&(c=n.Window&&n.Window.prototype)&&(c=-1==Ea.indexOf("Edge")&&n.Window.prototype.setImmediate==n.setImmediate);c?(ph||(ph=qh()),ph(a)):n.setImmediate(a)}}var zh=!1,Ah=new th;function Bh(){for(var a=null;a=Ah.remove();){try{a.f.call(a.g)}catch(b){oh(b)}sh(vh,a)}zh=!1};function Ch(a,b){this.f=Dh;this.T=void 0;this.o=this.g=this.m=null;this.A=this.H=!1;if(a!=aa)try{var c=this;a.call(b,function(a){Eh(c,Fh,a)},function(a){if(!(a instanceof Gh))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}Eh(c,Hh,a)})}catch(d){Eh(this,Hh,d)}}var Dh=0,Fh=2,Hh=3;function Ih(){this.next=this.context=this.f=this.g=this.C=null;this.m=!1}Ih.prototype.reset=function(){this.context=this.f=this.g=this.C=null;this.m=!1};
var Jh=new rh(function(){return new Ih},function(a){a.reset()},100);function Kh(a,b,c){var d=Jh.get();d.g=a;d.f=b;d.context=c;return d}Ch.prototype.then=function(a,b,c){return Lh(this,fa(a)?a:null,fa(b)?b:null,c)};Ch.prototype.then=Ch.prototype.then;Ch.prototype.$goog_Thenable=!0;h=Ch.prototype;h.ke=function(a,b){return Lh(this,null,a,b)};h.cancel=function(a){this.f==Dh&&wh(function(){var b=new Gh(a);Mh(this,b)},this)};
function Mh(a,b){if(a.f==Dh)if(a.m){var c=a.m;if(c.g){for(var d=0,e=null,f=null,g=c.g;g&&(g.m||(d++,g.C==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.f==Dh&&1==d?Mh(c,b):(f?(d=f,d.next==c.o&&(c.o=d),d.next=d.next.next):Nh(c),Oh(c,e,Hh,b)))}a.m=null}else Eh(a,Hh,b)}function Ph(a,b){a.g||a.f!=Fh&&a.f!=Hh||Qh(a);a.o?a.o.next=b:a.g=b;a.o=b}
function Lh(a,b,c,d){var e=Kh(null,null,null);e.C=new Ch(function(a,g){e.g=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.f=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof Gh?g(b):a(e)}catch(m){g(m)}}:g});e.C.m=a;Ph(a,e);return e.C}h.le=function(a){this.f=Dh;Eh(this,Fh,a)};h.me=function(a){this.f=Dh;Eh(this,Hh,a)};
function Eh(a,b,c){if(a.f==Dh){a===c&&(b=Hh,c=new TypeError("Promise cannot resolve to itself"));a.f=1;var d;a:{var e=c,f=a.le,g=a.me;if(e instanceof Ch)Ph(e,Kh(f||aa,g||null,a)),d=!0;else{var k;if(e)try{k=!!e.$goog_Thenable}catch(m){k=!1}else k=!1;if(k)e.then(f,g,a),d=!0;else{if(ga(e))try{var l=e.then;if(fa(l)){Rh(e,l,f,g,a);d=!0;break a}}catch(m){g.call(a,m);d=!0;break a}d=!1}}}d||(a.T=c,a.f=b,a.m=null,Qh(a),b!=Hh||c instanceof Gh||Sh(a,c))}}
function Rh(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function g(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,g,f)}catch(l){f(l)}}function Qh(a){a.H||(a.H=!0,wh(a.Rd,a))}function Nh(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.o=null);return b}h.Rd=function(){for(var a=null;a=Nh(this);)Oh(this,a,this.f,this.T);this.H=!1};
function Oh(a,b,c,d){if(c==Hh&&b.f&&!b.m)for(;a&&a.A;a=a.m)a.A=!1;if(b.C)b.C.m=null,Th(b,c,d);else try{b.m?b.g.call(b.context):Th(b,c,d)}catch(e){Uh.call(null,e)}sh(Jh,b)}function Th(a,b,c){b==Fh?a.g.call(a.context,c):a.f&&a.f.call(a.context,c)}function Sh(a,b){a.A=!0;wh(function(){a.A&&Uh.call(null,b)})}var Uh=oh;function Gh(a){Ha.call(this,a)}ka(Gh,Ha);Gh.prototype.name="cancel";var Vh=Promise||n.Promise||Ch;Ch.prototype["catch"]=Ch.prototype.ke;function U(){var a=this;this.g=this.m=null;this.f=new Vh(function(b,c){a.m=b;a.g=c})}function V(a,b){return function(c,d){c?a.g(c):a.m(d);fa(b)&&(Wh(a.f),1===b.length?b(c):b(c,d))}}function Wh(a){a.then(void 0,aa)};function W(a,b){this.f=a;this.oa=b}W.prototype.cancel=function(a){R("Wilddog.onDisconnect().cancel",0,1,arguments.length);T("Wilddog.onDisconnect().cancel",1,a,!0);var b=new U;this.f.hc(this.oa,V(b,a));return b.f};W.prototype.cancel=W.prototype.cancel;W.prototype.remove=function(a){R("Wilddog.onDisconnect().remove",0,1,arguments.length);Ff("Wilddog.onDisconnect().remove",this.oa);T("Wilddog.onDisconnect().remove",1,a,!0);var b=new U;kh(this.f,this.oa,null,V(b,a));return b.f};W.prototype.remove=W.prototype.remove;
W.prototype.set=function(a,b){R("Wilddog.onDisconnect().set",1,2,arguments.length);Ff("Wilddog.onDisconnect().set",this.oa);xf("Wilddog.onDisconnect().set",a,this.oa,!1);T("Wilddog.onDisconnect().set",2,b,!0);var c=new U;kh(this.f,this.oa,a,V(c,b));return c.f};W.prototype.set=W.prototype.set;
W.prototype.cb=function(a,b,c){R("Wilddog.onDisconnect().setWithPriority",2,3,arguments.length);Ff("Wilddog.onDisconnect().setWithPriority",this.oa);xf("Wilddog.onDisconnect().setWithPriority",a,this.oa,!1);Bf("Wilddog.onDisconnect().setWithPriority",2,b);T("Wilddog.onDisconnect().setWithPriority",3,c,!0);var d=new U;lh(this.f,this.oa,a,b,V(d,c));return d.f};W.prototype.setWithPriority=W.prototype.cb;
W.prototype.update=function(a,b){R("Wilddog.onDisconnect().update",1,2,arguments.length);Ff("Wilddog.onDisconnect().update",this.oa);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;C("Passing an Array to Wilddog.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Af("Wilddog.onDisconnect().update",a,this.oa);T("Wilddog.onDisconnect().update",2,b,!0);c=new U;
mh(this.f,this.oa,a,V(c,b));return c.f};W.prototype.update=W.prototype.update;function Xh(a,b){this.committed=a;this.snapshot=b};function ze(a){this.w=a}h=ze.prototype;h.M=function(a,b,c,d,e){B(a.ub(this.w),"A node must be indexed if only a child is updated");d=a.P(b);if(d.$(c))return a;null!=e&&(c.j()?a.wa(b)?Yh(e,new O(ue,d,b)):B(a.R(),"A child remove without an old child only makes sense on a leaf node"):d.j()?Yh(e,new O(ve,c,b)):Yh(e,new O(re,c,b,d)));return a.R()&&c.j()?a:a.U(b,c).La(this.w)};
h.pa=function(a,b,c){null!=c&&(a.R()||a.X(G,function(a,e){b.wa(a)||Yh(c,new O(ue,e,a))}),b.R()||b.X(G,function(b,e){if(a.wa(b)){var f=a.P(b);f.$(e)||Yh(c,new O(re,e,b,f))}else Yh(c,new O(ve,e,b))}));return b.La(this.w)};h.ba=function(a,b){return a.j()?y:a.ba(b)};h.za=function(){return!1};h.nb=function(){return this};h.W=function(){return this.w};function Ce(a){this.m=new ze(a.W());this.w=a.W();var b;a.ma?(b=Zh(a),b=a.W().Lb($h(a),b)):b=a.W().Ob();this.g=b;a.na?(b=ai(a),a=a.W().Lb(bi(a),b)):a=a.W().Mb();this.f=a}h=Ce.prototype;h.matches=function(a){return 0>=this.w.compare(this.g,a)&&0>=this.w.compare(a,this.f)};h.M=function(a,b,c,d,e){this.matches(new N(b,c))||(c=y);return this.m.M(a,b,c,d,e)};
h.pa=function(a,b,c){b.R()&&(b=y);var d=b.La(this.w),d=d.ba(y),e=this;b.X(G,function(a,b){e.matches(new N(a,b))||(d=d.U(a,y))});return this.m.pa(a,d,c)};h.ba=function(a){return a};h.za=function(){return!0};h.nb=function(){return this.m};h.W=function(){return this.w};function ce(){this.f={}}
function Yh(a,b){var c=b.type,d=b.Ja;B(c==ve||c==re||c==ue,"Only child changes supported for tracking");B(".priority"!==d,"Only non-priority child changes can be tracked.");var e=v(a.f,d);if(e){var f=e.type;if(c==ve&&f==ue)a.f[d]=new O(re,b.Ca,d,e.Ca);else if(c==ue&&f==ve)delete a.f[d];else if(c==ue&&f==re)a.f[d]=new O(ue,e.Sc,d);else if(c==re&&f==ve)a.f[d]=new O(ve,b.Ca,d);else if(c==re&&f==re)a.f[d]=new O(re,b.Ca,d,e.Sc);else throw qb("Illegal combination of changes: "+b+" occurred after "+e);}else a.f[d]=
b};function Be(a){this.f=new Ce(a);this.w=a.W();B(a.la,"Only valid if limit has been set");this.da=a.da;this.g=!ci(a)}h=Be.prototype;h.M=function(a,b,c,d,e){this.f.matches(new N(b,c))||(c=y);return a.P(b).$(c)?a:a.Ra()<this.da?this.f.nb().M(a,b,c,d,e):di(this,a,b,c,d,e)};
h.pa=function(a,b,c){var d;if(b.R()||b.j())d=y.La(this.w);else if(2*this.da<b.Ra()&&b.ub(this.w)){d=y.La(this.w);b=this.g?b.qb(this.f.f,this.w):b.pb(this.f.g,this.w);for(var e=0;0<b.Fa.length&&e<this.da;){var f=xc(b),g;if(g=this.g?0>=this.w.compare(this.f.g,f):0>=this.w.compare(f,this.f.f))d=d.U(f.name,f.node),e++;else break}}else{d=b.La(this.w);d=d.ba(y);var k,l,m;if(this.g){b=d.md(this.w);k=this.f.f;l=this.f.g;var u=nd(this.w);m=function(a,b){return u(b,a)}}else b=d.ob(this.w),k=this.f.g,l=this.f.f,
m=nd(this.w);for(var e=0,z=!1;0<b.Fa.length;)f=xc(b),!z&&0>=m(k,f)&&(z=!0),(g=z&&e<this.da&&0>=m(f,l))?e++:d=d.U(f.name,y)}return this.f.nb().pa(a,d,c)};h.ba=function(a){return a};h.za=function(){return!0};h.nb=function(){return this.f.nb()};h.W=function(){return this.w};
function di(a,b,c,d,e,f){var g;if(a.g){var k=nd(a.w);g=function(a,b){return k(b,a)}}else g=nd(a.w);B(b.Ra()==a.da,"");var l=new N(c,d),m=a.g?Od(b,a.w):Pd(b,a.w),u=a.f.matches(l);if(b.wa(c)){var z=b.P(c),m=e.Kc(a.w,m,a.g);null!=m&&m.name==c&&(m=e.Kc(a.w,m,a.g));e=null==m?1:g(m,l);if(u&&!d.j()&&0<=e)return null!=f&&Yh(f,new O(re,d,c,z)),b.U(c,d);null!=f&&Yh(f,new O(ue,z,c));b=b.U(c,y);return null!=m&&a.f.matches(m)?(null!=f&&Yh(f,new O(ve,m.node,m.name)),b.U(m.name,m.node)):b}return d.j()?b:u&&0<=g(m,
l)?(null!=f&&(Yh(f,new O(ue,m.node,m.name)),Yh(f,new O(ve,d,c))),b.U(c,d).U(m.name,y)):b};function ei(){this.lb=this.na=this.eb=this.ma=this.la=!1;this.da=0;this.gb="";this.tb=null;this.Ya="";this.rb=null;this.Xa="";this.w=G}var fi=new ei;function ci(a){return""===a.gb?a.ma:"l"===a.gb}function $h(a){B(a.ma,"Only valid if start has been set");return a.tb}function Zh(a){B(a.ma,"Only valid if start has been set");return a.eb?a.Ya:"[MIN_NAME]"}function bi(a){B(a.na,"Only valid if end has been set");return a.rb}
function ai(a){B(a.na,"Only valid if end has been set");return a.lb?a.Xa:"[MAX_NAME]"}h=ei.prototype;h.W=function(){return this.w};function gi(a){var b=new ei;b.la=a.la;b.da=a.da;b.ma=a.ma;b.tb=a.tb;b.eb=a.eb;b.Ya=a.Ya;b.na=a.na;b.rb=a.rb;b.lb=a.lb;b.Xa=a.Xa;b.w=a.w;return b}h.Pc=function(a){var b=gi(this);b.la=!0;b.da=a;b.gb="";return b};h.Qc=function(a){var b=gi(this);b.la=!0;b.da=a;b.gb="l";return b};h.Rc=function(a){var b=gi(this);b.la=!0;b.da=a;b.gb="r";return b};
h.pc=function(a,b){var c=gi(this);c.ma=!0;p(a)||(a=null);c.tb=a;null!=b?(c.eb=!0,c.Ya=b):(c.eb=!1,c.Ya="");return c};h.ac=function(a,b){var c=gi(this);c.na=!0;p(a)||(a=null);c.rb=a;p(b)?(c.lb=!0,c.Xa=b):(c.Ae=!1,c.Xa="");return c};function hi(a,b){var c=gi(a);c.w=b;return c}function Ug(a){var b={};a.ma&&(b.sp=a.tb,a.eb&&(b.sn=a.Ya));a.na&&(b.ep=a.rb,a.lb&&(b.en=a.Xa));if(a.la){b.l=a.da;var c=a.gb;""===c&&(c=ci(a)?"l":"r");b.vf=c}a.w!==G&&(b.i=a.w.toString());return b}
function Ae(a){return!(a.ma||a.na||a.la)}function Dg(a){var b={};if(Ae(a)&&a.w==G)return b;var c;a.w===G?c="$priority":a.w===Bd?c="$value":a.w===yd?c="$key":(B(a.w instanceof ud,"Unrecognized index type!"),c=a.w.toString());b.orderBy=w(c);a.ma&&(b.startAt=w(a.tb),a.eb&&(b.startAt+=","+w(a.Ya)));a.na&&(b.endAt=w(a.rb),a.lb&&(b.endAt+=","+w(a.Xa)));a.la&&(ci(a)?b.limitToFirst=a.da:b.limitToLast=a.da);return b}h.toString=function(){return w(Ug(this))};function X(a,b,c,d){this.B=a;this.path=b;this.G=c;this.f=d}
function ii(a){var b=null,c=null;a.ma&&(b=$h(a));a.na&&(c=bi(a));if(a.W()===yd){if(a.ma){if("[MIN_NAME]"!=Zh(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.na){if("[MAX_NAME]"!=ai(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.W()===G){if(null!=b&&!wf(b)||null!=c&&!wf(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(B(a.W()instanceof ud||a.W()===Bd,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function ji(a){if(a.ma&&a.na&&a.la&&(!a.la||""===a.gb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function ki(a,b){if(!0===a.f)throw Error(b+": You can't combine multiple orderBy calls.");}X.prototype.yb=function(){R("Query.ref",0,0,arguments.length);return new Q(this.B,this.path)};X.prototype.ref=X.prototype.yb;
X.prototype.$a=function(a,b,c,d){R("Query.on",2,4,arguments.length);Cf("Query.on",a,!1);T("Query.on",2,b,!1);var e=li("Query.on",c,d);if("value"===a)nh(this.B,this,new Ke(b,e.cancel||null,e.context||null));else{var f={};f[a]=b;nh(this.B,this,new Le(f,e.cancel,e.context))}return b};X.prototype.on=X.prototype.$a;
X.prototype.xb=function(a,b,c){R("Query.off",0,3,arguments.length);Cf("Query.off",a,!0);T("Query.off",2,b,!0);sf("Query.off",3,c);var d=null,e=null;"value"===a?d=new Ke(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Le(e,null,c||null));e=this.B;d=".info"===J(this.path)?e.T.Sa(this,d):e.f.Sa(this,d);Wb(e.g,this.path,d)};X.prototype.off=X.prototype.xb;
X.prototype.m=function(a,b){function c(k){f&&(f=!1,e.xb(a,c),b&&b.call(d.context,k),g.m(k))}R("Query.once",1,4,arguments.length);Cf("Query.once",a,!1);T("Query.once",2,b,!0);var d=li("Query.once",arguments[2],arguments[3]),e=this,f=!0,g=new U;Wh(g.f);this.$a(a,c,function(b){e.xb(a,c);d.cancel&&d.cancel.call(d.context,b);g.g(b)});return g.f};X.prototype.once=X.prototype.m;
X.prototype.Pc=function(a){C("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");R("Query.limit",1,1,arguments.length);if(!ea(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.G.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.G.Pc(a);ji(b);return new X(this.B,this.path,b,this.f)};X.prototype.limit=X.prototype.Pc;
X.prototype.Qc=function(a){R("Query.limitToFirst",1,1,arguments.length);if(!ea(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.G.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.B,this.path,this.G.Qc(a),this.f)};X.prototype.limitToFirst=X.prototype.Qc;
X.prototype.Rc=function(a){R("Query.limitToLast",1,1,arguments.length);if(!ea(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.G.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.B,this.path,this.G.Rc(a),this.f)};X.prototype.limitToLast=X.prototype.Rc;
X.prototype.o=function(a){R("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Df("Query.orderByChild",1,a,!1);ki(this,"Query.orderByChild");var b=hi(this.G,new ud(a));ii(b);return new X(this.B,
this.path,b,!0)};X.prototype.orderByChild=X.prototype.o;X.prototype.A=function(){R("Query.orderByKey",0,0,arguments.length);ki(this,"Query.orderByKey");var a=hi(this.G,yd);ii(a);return new X(this.B,this.path,a,!0)};X.prototype.orderByKey=X.prototype.A;X.prototype.H=function(){R("Query.orderByPriority",0,0,arguments.length);ki(this,"Query.orderByPriority");var a=hi(this.G,G);ii(a);return new X(this.B,this.path,a,!0)};X.prototype.orderByPriority=X.prototype.H;
X.prototype.T=function(){R("Query.orderByValue",0,0,arguments.length);ki(this,"Query.orderByValue");var a=hi(this.G,Bd);ii(a);return new X(this.B,this.path,a,!0)};X.prototype.orderByValue=X.prototype.T;
X.prototype.pc=function(a,b){R("Query.startAt",0,2,arguments.length);xf("Query.startAt",a,this.path,!0);Df("Query.startAt",2,b,!0);var c=this.G.pc(a,b);ji(c);ii(c);if(this.G.ma)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new X(this.B,this.path,c,this.f)};X.prototype.startAt=X.prototype.pc;
X.prototype.ac=function(a,b){R("Query.endAt",0,2,arguments.length);xf("Query.endAt",a,this.path,!0);Df("Query.endAt",2,b,!0);var c=this.G.ac(a,b);ji(c);ii(c);if(this.G.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.B,this.path,c,this.f)};X.prototype.endAt=X.prototype.ac;
X.prototype.g=function(a,b){R("Query.equalTo",1,2,arguments.length);xf("Query.equalTo",a,this.path,!1);Df("Query.equalTo",2,b,!0);if(this.G.ma)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.G.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.pc(a,b).ac(a,b)};X.prototype.equalTo=X.prototype.g;
X.prototype.toString=function(){R("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.aa;c<a.F.length;c++)""!==a.F[c]&&(b+="/"+encodeURIComponent(String(a.F[c])));return this.B.toString()+(b||"/")};X.prototype.toString=X.prototype.toString;X.prototype.ra=function(){var a=Gb(Ug(this.G));return"{}"===a?"default":a};
function li(a,b,c){var d={cancel:null,context:null};if(b&&c)d.cancel=b,T(a,3,d.cancel,!0),d.context=c,sf(a,4,d.context);else if(b)if("object"===typeof b&&null!==b)d.context=b;else if("function"===typeof b)d.cancel=b;else throw Error(S(a,3,!0)+" must either be a cancel callback or a context object.");return d};function mi(a){var b=this;this.Na=a;this.m="*";bg()?this.f=this.g=Of():(this.f=window.opener,this.g=window);if(!b.f)throw"Unable to find relay frame";Pf(this.g,"message",r(this.A,this));Pf(this.g,"message",r(this.o,this));try{ni(this,{a:"ready"})}catch(c){Pf(this.f,"load",function(){ni(b,{a:"ready"})})}Pf(window,"unload",r(this.T,this))}function ni(a,b){b=w(b);bg()?a.f.doPost(b,a.m):a.f.postMessage(b,a.m)}
mi.prototype.A=function(a){var b=this,c;try{c=qa(a.data)}catch(d){}c&&"request"===c.a&&(Qf(window,"message",this.A),this.m=a.origin,this.Na&&setTimeout(function(){b.Na(b.m,c.d,function(a,c){b.H=!c;b.Na=void 0;ni(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};mi.prototype.T=function(){try{Qf(this.g,"message",this.o)}catch(a){}this.Na&&(ni(this,{a:"error",d:"unknown closed window"}),this.Na=void 0);try{window.close()}catch(a){}};mi.prototype.o=function(a){if(this.H&&"die"===a.data)try{window.close()}catch(b){}};var Y={Td:function(){Fg.te.Sd();Fg.zd.we()}};Y.forceLongPolling=Y.Td;Y.Ud=function(){Fg.zd.Sd()};Y.forceWebSockets=Y.Ud;Y.ie=function(a,b){a.B.Ga.Zc=b};Y.setSecurityDebugCallback=Y.ie;Y.ad=function(a,b){a.B.ad(b)};Y.stats=Y.ad;Y.bd=function(a,b){a.B.bd(b)};Y.statsIncrementCounter=Y.bd;Y.$b=function(a){return a.B.$b};Y.dataUpdateCount=Y.$b;Y.Wd=function(a,b){a.B.Oc=b};Y.interceptServerData=Y.Wd;Y.ae=function(a){new mi(a)};Y.onPopupOpen=Y.ae;Y.ge=function(a){Nf=a};Y.setAuthenticationServer=Y.ge;oa.se;
function oi(a,b,c,d,e){function f(){}a.Rb("transaction on "+b);var g=new Q(a,b);g.$a("value",f);c={path:b,update:c,S:d,status:null,sd:pb(),fd:e,td:0,tc:function(){g.xb("value",f)},zc:null,ua:null,Xb:null,Yb:null,Zb:null};d=a.f.qa(b,void 0)||y;c.Xb=d;d=c.update(d.N());if(p(d)){yf("transaction failed: Data returned ",d,c.path);c.status=1;e=mc(a.o,b);var k=e.va()||[];k.push(c);nc(e,k);"object"===typeof d&&null!==d&&t(d,".priority")?(k=v(d,".priority"),B(wf(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=
(a.f.qa(b)||y).J().N();e=fh(a);d=F(d,k);e=cc(d,e);c.Yb=d;c.Zb=e;c.ua=a.ha++;c=Ze(a.f,b,e,c.ua,c.fd);Yb(a.g,b,c);pi(a)}else c.tc(),c.Yb=null,c.Zb=null,c.S&&(a=new P(c.Xb,new Q(a,c.path),G),c.S(null,!1,a))}function pi(a,b){var c=b||a.o;b||qi(a,c);if(null!==c.va()){var d=ri(a,c);B(0<d.length,"Sending zero length transaction queue");Ma(d,function(a){return 1===a.status})&&si(a,c.path(),d)}else c.ec()&&c.X(function(b){pi(a,b)})}
function si(a,b,c){for(var d=Ka(c,function(a){return a.ua}),e=a.f.qa(b,d)||y,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];B(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.td++;var k=H(b,g.path),d=d.M(k,g.Yb)}d=d.N(!0);a.m.Db(b.toString(),d,function(d){a.Rb("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(bf(a.f,c[f].ua));if(c[f].S){var g=c[f].Zb,k=new Q(a,c[f].path);d.push(r(c[f].S,
null,null,!0,new P(g,k,G)))}c[f].tc()}qi(a,mc(a.o,b));pi(a);Yb(a.g,b,e);for(f=0;f<d.length;f++)Kb(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(C("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].zc=d;gh(a,b)}},e)}function gh(a,b){var c=ti(a,b),d=c.path(),c=ri(a,c);ui(a,c,d);return d}
function ui(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ka(b,function(a){return a.ua}),g=0;g<b.length;g++){var k=b[g],l=H(c,k.path),m=!1,u;B(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)m=!0,u=k.zc,e=e.concat(bf(a.f,k.ua,!0));else if(1===k.status)if(25<=k.td)m=!0,u="maxretry",e=e.concat(bf(a.f,k.ua,!0));else{var z=a.f.qa(k.path,f)||y;k.Xb=z;var I=b[g].update(z.N());p(I)?(yf("transaction failed: Data returned ",I,k.path),l=F(I),"object"===typeof I&&null!=
I&&t(I,".priority")||(l=l.ba(z.J())),z=k.ua,I=fh(a),I=cc(l,I),k.Yb=l,k.Zb=I,k.ua=a.ha++,Pa(f,z),e=e.concat(Ze(a.f,k.path,I,k.ua,k.fd)),e=e.concat(bf(a.f,z,!0))):(m=!0,u="nodata",e=e.concat(bf(a.f,k.ua,!0)))}Yb(a.g,c,e);e=[];m&&(b[g].status=3,setTimeout(b[g].tc,Math.floor(0)),b[g].S&&("nodata"===u?(k=new Q(a,b[g].path),d.push(r(b[g].S,null,null,!1,new P(b[g].Xb,k,G)))):d.push(r(b[g].S,null,Error(u),!1,null))))}qi(a,a.o);for(g=0;g<d.length;g++)Kb(d[g]);pi(a)}}
function ti(a,b){for(var c,d=a.o;null!==(c=J(b))&&null===d.va();)d=mc(d,c),b=K(b);return d}function ri(a,b){var c=[];vi(a,b,c);c.sort(function(a,b){return a.sd-b.sd});return c}function vi(a,b,c){var d=b.va();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.X(function(b){vi(a,b,c)})}function qi(a,b){var c=b.va();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;nc(b,0<c.length?c:null)}b.X(function(b){qi(a,b)})}
function jh(a,b){var c=ti(a,b).path(),d=mc(a.o,b);qc(d,function(b){wi(a,b)});wi(a,d);pc(d,function(b){wi(a,b)});return c}
function wi(a,b){var c=b.va();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(B(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].zc="set"):(B(1===c[g].status,"Unexpected transaction status in abort"),c[g].tc(),e=e.concat(bf(a.f,c[g].ua,!0)),c[g].S&&d.push(r(c[g].S,null,Error("set"),!1,null))));-1===f?nc(b,null):c.length=f+1;Yb(a.g,b.path(),e);for(g=0;g<d.length;g++)Kb(d[g])}};function xi(){this.f={};this.g=!1}ba(xi);xi.prototype.Za=function(){for(var a in this.f)this.f[a].Za()};xi.prototype.interrupt=xi.prototype.Za;xi.prototype.Bb=function(){for(var a in this.f)this.f[a].Bb()};xi.prototype.resume=xi.prototype.Bb;xi.prototype.Hc=function(){this.g=!0};var Z={};Z.Eb=Pg;Z.DataConnection=Z.Eb;Pg.prototype.Dd=function(a,b){this.xa("q",{p:a},b)};Z.Eb.prototype.simpleListen=Z.Eb.prototype.Dd;Pg.prototype.Bd=function(a,b){this.xa("echo",{d:a},b)};Z.Eb.prototype.echo=Z.Eb.prototype.Bd;Pg.prototype.interrupt=Pg.prototype.Za;Z.Gd=Hg;Z.RealTimeConnection=Z.Gd;Hg.prototype.sendRequest=Hg.prototype.xa;Hg.prototype.close=Hg.prototype.close;
Z.Vd=function(a){var b=Pg.prototype.Db;Pg.prototype.Db=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Pg.prototype.Db=b}};Z.hijackHash=Z.Vd;Z.Ad=kb;Z.ConnectionTarget=Z.Ad;Z.ra=function(a){return a.ra()};Z.queryIdentifier=Z.ra;Z.Xd=function(a){return a.B.Ga.ea};Z.listens=Z.Xd;Z.Hc=function(a){a.Hc()};Z.forceRestClient=Z.Hc;function Q(a,b){var c,d,e;if(a instanceof ch)c=a,d=b;else{R("new Wilddog",1,2,arguments.length);d=Cb(arguments[0]);c=d.je;"wilddog"===d.domain&&Bb(d.host+" is no longer supported. Please use <YOUR WILDDOG>.wilddogio.com instead");c||Bb("Cannot parse Wilddog url. Please use https://<YOUR WILDDOG>.wilddogio.com");d.bb||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Wilddog access from a secure page. Please use https in calls to new Wilddog().");
c=new kb(d.host,d.bb,c);d=new E(d.Qb);e=d.toString();var f;!(f=!q(c.host)||0===c.host.length||!vf(c.wb))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(q(e)&&0!==e.length&&!uf.test(e)));if(f)throw Error(S("new Wilddog",1,!1)+'must be a valid wilddog URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof xi)e=b;else if(q(b))e=xi.Va(),c.jc=b;else throw Error("Expected a valid Wilddog.Context for second argument to new Wilddog()");else e=xi.Va();f=c.toString();
var g=v(e.f,f);g||(g=new ch(c,e.g),e.f[f]=g);c=g}X.call(this,c,d,fi,!1)}ka(Q,X);Q.prototype.name=function(){C("Wilddog.name() being deprecated. Please use Wilddog.key() instead.");R("Wilddog.name",0,0,arguments.length);return this.key()};Q.prototype.name=Q.prototype.name;Q.prototype.key=function(){R("Wilddog.key",0,0,arguments.length);return this.path.j()?null:fc(this.path)};Q.prototype.key=Q.prototype.key;
Q.prototype.C=function(a){R("Wilddog.child",1,1,arguments.length);if(ea(a))a=String(a);else if(!(a instanceof E))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));Ef("Wilddog.child",b)}else Ef("Wilddog.child",a);return new Q(this.B,this.path.C(a))};Q.prototype.child=Q.prototype.C;Q.prototype.parent=function(){R("Wilddog.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new Q(this.B,a)};Q.prototype.parent=Q.prototype.parent;
Q.prototype.root=function(){R("Wilddog.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};Q.prototype.root=Q.prototype.root;Q.prototype.set=function(a,b){R("Wilddog.set",1,2,arguments.length);Ff("Wilddog.set",this.path);xf("Wilddog.set",a,this.path,!1);T("Wilddog.set",2,b,!0);var c=new U;this.B.cb(this.path,a,null,V(c,b));return c.f};Q.prototype.set=Q.prototype.set;
Q.prototype.update=function(a,b){R("Wilddog.update",1,2,arguments.length);Ff("Wilddog.update",this.path);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;C("Passing an Array to Wilddog.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Af("Wilddog.update",a,this.path);T("Wilddog.update",2,b,!0);c=new U;this.B.update(this.path,a,V(c,b));return c.f};Q.prototype.update=Q.prototype.update;
Q.prototype.cb=function(a,b,c){R("Wilddog.setWithPriority",2,3,arguments.length);Ff("Wilddog.setWithPriority",this.path);xf("Wilddog.setWithPriority",a,this.path,!1);Bf("Wilddog.setWithPriority",2,b);T("Wilddog.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Wilddog.setWithPriority failed: "+this.key()+" is a read-only object.";var d=new U;this.B.cb(this.path,a,b,V(d,c));return d.f};Q.prototype.setWithPriority=Q.prototype.cb;
Q.prototype.remove=function(a){R("Wilddog.remove",0,1,arguments.length);Ff("Wilddog.remove",this.path);T("Wilddog.remove",1,a,!0);this.set(null,a)};Q.prototype.remove=Q.prototype.remove;
Q.prototype.transaction=function(a,b,c){R("Wilddog.transaction",1,3,arguments.length);Ff("Wilddog.transaction",this.path);T("Wilddog.transaction",1,a,!1);T("Wilddog.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(S("Wilddog.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Wilddog.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new U;fa(b)&&Wh(d.f);oi(this.B,this.path,a,function(a,c,g){a?d.g(a):
d.m(new Xh(c,g));fa(b)&&b(a,c,g)},c);return d.f};Q.prototype.transaction=Q.prototype.transaction;Q.prototype.he=function(a,b){R("Wilddog.setPriority",1,2,arguments.length);Ff("Wilddog.setPriority",this.path);Bf("Wilddog.setPriority",1,a);T("Wilddog.setPriority",2,b,!0);var c=new U;this.B.cb(this.path.C(".priority"),a,null,V(c,b));return c.f};Q.prototype.setPriority=Q.prototype.he;
Q.prototype.push=function(a,b){R("Wilddog.push",0,2,arguments.length);Ff("Wilddog.push",this.path);xf("Wilddog.push",a,this.path,!0);T("Wilddog.push",2,b,!0);var c=eh(this.B),d=Lb(c),c=this.C(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.C(d)});c.then=r(f.then,f);c["catch"]=r(f.then,f,void 0);fa(b)&&Wh(f)}return c};Q.prototype.push=Q.prototype.push;Q.prototype.onDisconnect=function(){Ff("Wilddog.onDisconnect",this.path);return new W(this.B,this.path)};Q.prototype.onDisconnect=Q.prototype.onDisconnect;
Q.prototype.V=function(a,b,c){C("WilddogRef.auth() being deprecated. Please use WilddogRef.authWithCustomToken() instead.");R("Wilddog.auth",1,3,arguments.length);Gf("Wilddog.auth",a);T("Wilddog.auth",2,b,!0);T("Wilddog.auth",3,b,!0);var d=new U;ug(self.B.V,a,{},{remember:"none"},V(d,b),c);return d.f};Q.prototype.auth=Q.prototype.V;Q.prototype.sc=function(a){R("Wilddog.unauth",0,1,arguments.length);T("Wilddog.unauth",1,a,!0);var b=new U;vg(this.B.V,V(b,a));return b.f};Q.prototype.unauth=Q.prototype.sc;
Q.prototype.Jc=function(){R("Wilddog.getAuth",0,0,arguments.length);return this.B.V.Jc()};Q.prototype.getAuth=Q.prototype.Jc;Q.prototype.Zd=function(a,b){R("Wilddog.onAuth",1,2,arguments.length);T("Wilddog.onAuth",1,a,!1);sf("Wilddog.onAuth",2,b);this.B.V.$a("auth_status",a,b)};Q.prototype.onAuth=Q.prototype.Zd;Q.prototype.Yd=function(a,b){R("Wilddog.offAuth",1,2,arguments.length);T("Wilddog.offAuth",1,a,!1);sf("Wilddog.offAuth",2,b);this.B.V.xb("auth_status",a,b)};Q.prototype.offAuth=Q.prototype.Yd;
Q.prototype.Id=function(a,b,c){R("Wilddog.authWithCustomToken",1,3,arguments.length);Gf("Wilddog.authWithCustomToken",a);T("Wilddog.authWithCustomToken",2,b,!0);If("Wilddog.authWithCustomToken",3,c,!0);var d=new U;ug(this.B.V,a,{},c||{},V(d,b));return d.f};Q.prototype.authWithCustomToken=Q.prototype.Id;
Q.prototype.Jd=function(a,b,c){R("Wilddog.authWithOAuthPopup",2,3,arguments.length);Hf("Wilddog.authWithOAuthPopup",1,a);T("Wilddog.authWithOAuthPopup",2,b,!1);If("Wilddog.authWithOAuthPopup",3,c,!0);var d=new U;zg(this.B.V,a,c,V(d,b));return d.f};Q.prototype.authWithOAuthPopup=Q.prototype.Jd;
Q.prototype.Kd=function(a,b,c){R("Wilddog.authWithOAuthRedirect",2,3,arguments.length);Hf("Wilddog.authWithOAuthRedirect",1,a);T("Wilddog.authWithOAuthRedirect",2,b,!1);If("Wilddog.authWithOAuthRedirect",3,c,!0);var d=new U,e=this.B.V,f=V(d,b);xg(e);var g=[Vf],k=hg(c);"anonymous"===a||"wilddog"===a?D(f,dg("TRANSPORT_UNAVAILABLE")):(x.set("redirect_client_options",k.Wb),yg(e,g,"/auth/"+a,k,f));return d.f};Q.prototype.authWithOAuthRedirect=Q.prototype.Kd;
Q.prototype.Ld=function(a,b,c,d){R("Wilddog.authWithOAuthToken",3,4,arguments.length);Hf("Wilddog.authWithOAuthToken",1,a);T("Wilddog.authWithOAuthToken",3,c,!1);If("Wilddog.authWithOAuthToken",4,d,!0);var e=new U;q(b)?(Hf("Wilddog.authWithOAuthToken",2,b),wg(this.B.V,a+"/token",{access_token:b},d,V(e,c))):(If("Wilddog.authWithOAuthToken",2,b,!1),wg(this.B.V,a+"/token",b,d,V(e,c)));return e.f};Q.prototype.authWithOAuthToken=Q.prototype.Ld;
Q.prototype.Hd=function(a,b){R("Wilddog.authAnonymously",0,2,arguments.length);T("Wilddog.authAnonymously",1,a,!0);If("Wilddog.authAnonymously",2,b,!0);var c=new U;wg(this.B.V,"anonymous",{},b,V(c,a));return c.f};Q.prototype.authAnonymously=Q.prototype.Hd;
Q.prototype.Md=function(a,b,c){R("Wilddog.authWithPassword",1,3,arguments.length);If("Wilddog.authWithPassword",1,a,!1);Jf("Wilddog.authWithPassword",a,"email");Jf("Wilddog.authWithPassword",a,"password");T("Wilddog.authAnonymously",2,b,!0);If("Wilddog.authAnonymously",3,c,!0);var d=new U;wg(this.B.V,"password",a,c,V(d,b));return d.f};Q.prototype.authWithPassword=Q.prototype.Md;
Q.prototype.Fc=function(a,b){R("Wilddog.createUser",1,2,arguments.length);If("Wilddog.createUser",1,a,!1);Jf("Wilddog.createUser",a,"email");Jf("Wilddog.createUser",a,"password");T("Wilddog.createUser",2,b,!0);var c=new U;this.B.V.Fc(a,V(c,b));return c.f};Q.prototype.createUser=Q.prototype.Fc;
Q.prototype.Uc=function(a,b){R("Wilddog.removeUser",1,2,arguments.length);If("Wilddog.removeUser",1,a,!1);Jf("Wilddog.removeUser",a,"email");Jf("Wilddog.removeUser",a,"password");T("Wilddog.removeUser",2,b,!0);var c=new U;this.B.V.Uc(a,V(c,b));return c.f};Q.prototype.removeUser=Q.prototype.Uc;
Q.prototype.Cc=function(a,b){R("Wilddog.changePassword",1,2,arguments.length);If("Wilddog.changePassword",1,a,!1);Jf("Wilddog.changePassword",a,"email");Jf("Wilddog.changePassword",a,"oldPassword");Jf("Wilddog.changePassword",a,"newPassword");T("Wilddog.changePassword",2,b,!0);var c=new U;this.B.V.Cc(a,V(c,b));return c.f};Q.prototype.changePassword=Q.prototype.Cc;
Q.prototype.Bc=function(a,b){R("Wilddog.changeEmail",1,2,arguments.length);If("Wilddog.changeEmail",1,a,!1);Jf("Wilddog.changeEmail",a,"oldEmail");Jf("Wilddog.changeEmail",a,"newEmail");Jf("Wilddog.changeEmail",a,"password");T("Wilddog.changeEmail",2,b,!0);var c=new U;this.B.V.Bc(a,V(c,b));return c.f};Q.prototype.changeEmail=Q.prototype.Bc;
Q.prototype.Wc=function(a,b){R("Wilddog.resetPassword",1,2,arguments.length);If("Wilddog.resetPassword",1,a,!1);Jf("Wilddog.resetPassword",a,"email");T("Wilddog.resetPassword",2,b,!0);var c=new U;this.B.V.Wc(a,V(c,b));return c.f};Q.prototype.resetPassword=Q.prototype.Wc;
function yb(a,b){B(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?wb=r(console.log,console):"object"===typeof console.log&&(wb=function(a){console.log(a)})),b&&x.set("logging_enabled",!0)):a?wb=a:(wb=null,x.remove("logging_enabled"))}var rb=CLIENT_VERSION;Q.goOffline=function(){R("Wilddog.goOffline",0,0,arguments.length);xi.Va().Za()};Q.goOnline=function(){R("Wilddog.goOnline",0,0,arguments.length);xi.Va().Bb()};
Q.enableLogging=yb;Q.ServerValue={TIMESTAMP:{".sv":"timestamp"}};Q.SDK_VERSION=rb;Q.INTERNAL=Y;Q.TEST_ACCESS=Z;1!=NODE_CLIENT?("object"==typeof module&&module.exports&&(module.exports=Q),"function"==typeof define&&define.amd&&define("Wilddog",[],function(){return Q}),window?window.Wilddog=Q:WorkerGlobalScope&&self&&(self.Wilddog=Q)):module.exports=Q;
};ns.wrapper(ns.goog,ns.wd)})({goog:{},wd:{}})
